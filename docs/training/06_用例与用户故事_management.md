# 培训管理系统用例与用户故事

## 1. 简介

### 1.1 文档目的
本文档描述培训管理系统的用例模型和用户故事，旨在从用户视角详细说明系统功能和交互流程，为系统设计和开发提供清晰的需求依据。文档包含主要角色、用例图、详细用例描述以及对应的用户故事，确保系统能够满足各角色在GMP培训管理中的实际需求。

### 1.2 术语定义
| 术语 | 解释 |
|------|------|
| 用例 | 描述系统与外部参与者之间交互的行为序列，用于实现特定目标 |
| 用户故事 | 从用户视角描述系统功能的简短叙述，通常格式为"作为...我想...以便..." |
| 参与者 | 与系统交互的外部实体，可以是人员、系统或其他组织 |
| 前置条件 | 用例执行前必须满足的条件 |
| 后置条件 | 用例执行成功后系统所处的状态 |
| 基本流程 | 用例的常规执行路径 |
| 备选流程 | 用例的可选或异常执行路径 |

## 2. 参与者（角色）识别

### 2.1 主要角色

| 角色名称 | 描述 | 主要职责 |
|----------|------|----------|
| **员工** | 培训的参与者，系统的基础用户 | 查看培训计划、接收通知、参加培训、提交反馈 |
| **部门负责人** | 负责部门培训管理的中层管理者 | 提报部门培训需求、审批个人培训申请、审核培训计划 |
| **培训管理员** | 负责培训系统日常维护和运营的专职人员 | 管理课程、制定计划、组织培训、记录结果 |
| **质量管理专员** | 负责确保培训符合GMP合规要求的质量管理人员 | 审核培训计划合规性、监督培训执行、参与审计 |
| **系统管理员** | 负责系统技术维护的IT人员 | 用户管理、权限配置、系统维护、数据备份 |
| **外部讲师** | 提供外部培训的专业人员 | 提供课程内容、参与培训评估 |
| **高管** | 关注培训整体效果和合规性的高级管理者 | 审批年度培训计划、查看培训报表 |

### 2.2 系统角色

| 角色名称 | 描述 | 主要职责 |
|----------|------|----------|
| **人力资源系统** | 提供员工基础信息的外部系统 | 提供员工数据、组织架构信息 |
| **认证授权系统** | 负责用户认证和权限控制的系统 | 提供认证服务、权限验证 |
| **质量管理系统** | 负责质量管理的相关系统 | 提供偏差信息、触发相关培训 |
| **制造执行系统** | 负责生产执行的系统 | 验证操作人员培训资质 |
| **消息服务系统** | 负责消息发送的系统 | 发送培训通知、提醒消息 |
| **移动应用** | 移动端访问系统的应用 | 提供移动培训功能、签到 |

## 3. 用例图

### 3.1 总体用例图

```mermaid
actor "员工" as Employee
actor "部门负责人" as DeptHead
actor "培训管理员" as TrainingAdmin
actor "质量管理专员" as QualityMgr
actor "高管" as Executive
actor "外部讲师" as ExternalTrainer
system "培训管理系统" as TrainingSystem
system "其他系统" as OtherSystems

Employee --> TrainingSystem: 参加培训
Employee --> TrainingSystem: 提交培训需求
Employee --> TrainingSystem: 查看个人培训记录

DeptHead --> TrainingSystem: 提报部门培训需求
DeptHead --> TrainingSystem: 审批培训申请
DeptHead --> TrainingSystem: 查看部门培训报表

TrainingAdmin --> TrainingSystem: 管理课程
TrainingAdmin --> TrainingSystem: 制定培训计划
TrainingAdmin --> TrainingSystem: 组织培训
TrainingAdmin --> TrainingSystem: 记录培训结果
TrainingAdmin --> TrainingSystem: 生成培训证书

QualityMgr --> TrainingSystem: 审核培训合规性
QualityMgr --> TrainingSystem: 监督培训执行
QualityMgr --> TrainingSystem: 执行培训审计

Executive --> TrainingSystem: 审批年度计划
Executive --> TrainingSystem: 查看总体培训报表

ExternalTrainer --> TrainingSystem: 提供培训内容
ExternalTrainer --> TrainingSystem: 参与培训评估

TrainingSystem --> OtherSystems: 数据交换
OtherSystems --> TrainingSystem: 数据交换
```

## 4. 详细用例描述

### 4.1 培训需求提报

#### 4.1.1 个人培训需求提报

**用例ID**: TR-RQ-001
**参与者**: 员工
**前置条件**: 员工已登录系统，具备培训需求提报权限
**后置条件**: 个人培训需求已提交至系统，等待审批
**基本流程**:
1. 员工登录培训管理系统
2. 进入"培训需求"模块
3. 选择"个人培训需求提报"
4. 填写需求表单（培训内容、原因、期望时间等）
5. 提交需求申请
6. 系统生成需求记录并通知部门负责人审批
7. 显示提交成功提示

**备选流程**:
- A1: 表单填写不完整 → 系统提示必填项缺失
- A2: 需求提报被驳回 → 系统通知员工，员工可修改后重新提交

#### 4.1.2 部门培训需求提报

**用例ID**: TR-RQ-002
**参与者**: 部门负责人
**前置条件**: 部门负责人已登录系统，具备部门培训需求提报权限
**后置条件**: 部门培训需求已提交至系统，等待培训管理员处理
**基本流程**:
1. 部门负责人登录培训管理系统
2. 进入"培训需求"模块
3. 选择"部门培训需求提报"
4. 填写需求表单（培训内容、参与人员、原因、优先级等）
5. 提交需求申请
6. 系统生成部门需求记录并通知培训管理员
7. 显示提交成功提示

**备选流程**:
- A1: 表单填写不完整 → 系统提示必填项缺失
- A2: 部门需求被培训管理员退回 → 系统通知部门负责人，可修改后重新提交

### 4.2 培训计划管理

#### 4.2.1 培训计划制定

**用例ID**: TR-PL-001
**参与者**: 培训管理员
**前置条件**: 培训管理员已登录系统，具备培训计划制定权限；已有培训需求数据
**后置条件**: 培训计划已创建并提交审批
**基本流程**:
1. 培训管理员登录培训管理系统
2. 进入"培训计划"模块
3. 选择"新建培训计划"
4. 填写计划基本信息（名称、类型、时间范围等）
5. 从培训需求中选择培训项目或新增培训项目
6. 为每个培训项目分配资源（讲师、场地、时间等）
7. 保存并提交培训计划审批
8. 系统通知相关审批人
9. 显示计划提交成功提示

**备选流程**:
- A1: 资源冲突检测到冲突 → 系统提示冲突信息，培训管理员调整资源分配
- A2: 计划审批被驳回 → 系统通知培训管理员，可修改后重新提交

#### 4.2.2 培训计划审批

**用例ID**: TR-PL-002
**参与者**: 部门负责人、质量管理专员、高管
**前置条件**: 审批人已登录系统，有待审批的培训计划
**后置条件**: 培训计划审批结果已记录，系统根据审批结果更新计划状态
**基本流程**:
1. 审批人登录培训管理系统
2. 进入"待办事项"或"培训计划"模块
3. 查看待审批的培训计划详情
4. 检查计划的合理性、合规性
5. 选择"批准"或"驳回"并填写审批意见
6. 执行电子签名确认审批结果
7. 系统根据审批结果更新计划状态并通知相关人员
8. 显示审批成功提示

**备选流程**:
- A1: 审批人选择"驳回" → 系统通知培训管理员，计划状态更新为"已驳回"
- A2: 审批人选择"打回修改" → 系统通知培训管理员修改，计划状态更新为"需修改"

### 4.3 课程管理

#### 4.3.1 课程创建

**用例ID**: TR-CR-001
**参与者**: 培训管理员
**前置条件**: 培训管理员已登录系统，具备课程管理权限
**后置条件**: 新课程已创建并通过审核
**基本流程**:
1. 培训管理员登录培训管理系统
2. 进入"课程管理"模块
3. 选择"新建课程"
4. 填写课程基本信息（名称、描述、类型、时长、难度等）
5. 上传课程材料（PPT、文档、视频等）
6. 设置课程版本信息
7. 提交课程审核
8. 系统通知质量管理专员审核
9. 显示课程创建成功提示

**备选流程**:
- A1: 课程审核不通过 → 系统通知培训管理员，可修改后重新提交
- A2: 课程材料格式不符 → 系统提示文件格式错误，要求重新上传

#### 4.3.2 课程版本更新

**用例ID**: TR-CR-002
**参与者**: 培训管理员
**前置条件**: 培训管理员已登录系统，具备课程管理权限；已有课程需要更新
**后置条件**: 课程版本已更新，历史版本已保存
**基本流程**:
1. 培训管理员登录培训管理系统
2. 进入"课程管理"模块
3. 查找并选择需要更新的课程
4. 点击"更新版本"
5. 修改课程内容或上传新的课程材料
6. 更新版本号和更新说明
7. 提交新版本审核
8. 系统保存历史版本，新版本进入审核流程
9. 显示版本更新提交成功提示

**备选流程**:
- A1: 新版本审核不通过 → 系统通知培训管理员，可修改后重新提交
- A2: 需要回滚到历史版本 → 培训管理员选择历史版本进行恢复

### 4.4 培训执行

#### 4.4.1 培训签到

**用例ID**: TR-EX-001
**参与者**: 员工、培训管理员
**前置条件**: 已安排培训课程，培训已开始
**后置条件**: 员工签到状态已记录，培训出勤数据已更新
**基本流程**:
1. **线上签到流程**:
   a. 员工登录培训管理系统或移动应用
   b. 进入"我的培训"模块
   c. 选择当前培训课程
   d. 点击"签到"按钮
   e. 系统验证签到时间和资格
   f. 显示签到成功提示
   g. 培训管理员可查看实时签到情况

2. **线下签到流程**:
   a. 培训管理员打开培训签到页面
   b. 员工通过扫码、刷卡或输入工号签到
   c. 系统验证员工身份和培训资格
   d. 培训管理员确认签到信息
   e. 系统记录签到数据
   f. 显示签到成功提示

**备选流程**:
- A1: 签到时间超过规定范围 → 系统提示签到失败，需培训管理员手动确认
- A2: 员工无培训资格 → 系统提示无权限参加此培训

#### 4.4.2 培训评估

**用例ID**: TR-EX-002
**参与者**: 员工、培训管理员
**前置条件**: 培训课程已完成
**后置条件**: 培训评估数据已收集，评估报告已生成
**基本流程**:
1. 培训结束后，系统自动向参训员工推送评估问卷
2. 员工点击评估链接或在系统内打开评估页面
3. 员工完成满意度调查和知识测试
4. 员工提交评估结果
5. 系统收集并汇总评估数据
6. 培训管理员查看评估结果和统计报告
7. 系统根据评估结果生成培训改进建议

**备选流程**:
- A1: 员工未在规定时间内完成评估 → 系统发送提醒通知
- A2: 评估结果异常（如满意度极低）→ 系统通知培训管理员重点关注

### 4.5 证书管理

#### 4.5.1 培训证书生成

**用例ID**: TR-CR-001
**参与者**: 培训管理员
**前置条件**: 员工已成功完成培训课程并通过评估
**后置条件**: 培训证书已生成并颁发给员工
**基本流程**:
1. 培训课程完成后，系统自动检查完成条件
2. 对于满足条件的员工，培训管理员进入"证书管理"模块
3. 选择"批量生成证书"或针对单个员工生成证书
4. 系统自动填充证书模板（员工信息、课程信息、完成时间、成绩等）
5. 培训管理员确认证书信息无误后，点击"生成证书"
6. 系统生成电子证书并自动签名
7. 系统将证书颁发给员工，同时发送通知
8. 显示证书生成成功提示

**备选流程**:
- A1: 证书信息有误 → 培训管理员可撤销证书并重新生成
- A2: 需要手动调整证书内容 → 培训管理员可进行编辑后再生成

#### 4.5.2 证书查询与验证

**用例ID**: TR-CR-002
**参与者**: 员工、部门负责人、培训管理员、外部验证人员
**前置条件**: 证书已生成
**后置条件**: 查询者获取证书详情和验证结果
**基本流程**:
1. 查询者访问证书查询页面
2. 输入查询条件（证书编号、员工姓名、课程名称等）
3. 系统验证查询条件并检索证书信息
4. 系统显示证书详情（内容、有效期、状态等）
5. 对于外部验证人员，系统提供证书真实性验证功能
6. 显示查询结果和验证状态

**备选流程**:
- A1: 未找到匹配证书 → 系统提示无相关记录
- A2: 证书已过期 → 系统显示证书状态为"已过期"
- A3: 证书已撤销 → 系统显示证书状态为"已撤销"并说明原因

### 4.6 GMP合规管理

#### 4.6.1 培训矩阵维护

**用例ID**: TR-GMP-001
**参与者**: 质量管理专员、培训管理员
**前置条件**: 质量管理专员已登录系统，具备培训矩阵维护权限
**后置条件**: 培训矩阵已更新，与法规要求保持一致
**基本流程**:
1. 质量管理专员登录培训管理系统
2. 进入"GMP合规"模块
3. 选择"培训矩阵维护"
4. 查看当前培训矩阵
5. 根据岗位变化或法规更新，调整矩阵内容
6. 为新增岗位添加培训要求
7. 修改现有岗位的培训课程关联
8. 保存矩阵变更
9. 系统记录变更历史和审批信息
10. 显示矩阵更新成功提示

**备选流程**:
- A1: 矩阵变更需要审批 → 系统发送审批请求给相关负责人
- A2: 矩阵变更影响现有培训计划 → 系统提示需要更新相关培训计划

#### 4.6.2 培训记录审计

**用例ID**: TR-GMP-002
**参与者**: 质量管理专员、外部审计员
**前置条件**: 审计员已登录系统，具备审计权限
**后置条件**: 审计过程已记录，审计报告已生成
**基本流程**:
1. 审计员登录培训管理系统
2. 进入"审计"模块
3. 设置审计查询条件（时间范围、部门、员工、课程等）
4. 系统检索符合条件的培训记录
5. 审计员查看培训记录的详细信息，包括操作历史
6. 审计员可导出审计数据或生成审计报告
7. 系统记录审计活动
8. 显示审计完成提示

**备选流程**:
- A1: 发现异常记录 → 审计员可标记异常并记录审计发现
- A2: 需要审计原始数据 → 系统提供数据导出功能，支持数据完整性验证

## 5. 用户故事

### 5.1 员工相关用户故事

| ID | 用户故事 | 验收标准 |
|----|---------|----------|
| US-001 | 作为一名员工，我希望能够查看个人的培训计划和已完成的培训记录，以便了解自己的培训状态和进度。 | 1. 员工能够在系统中清晰查看即将参加的培训<br>2. 员工能够查看已完成培训的详细记录和证书<br>3. 系统显示培训完成进度和待完成项目 |
| US-002 | 作为一名员工，我希望能够根据工作需要提交个人培训需求申请，以便提升自己的专业技能。 | 1. 员工能够提交培训需求申请<br>2. 系统能够记录申请详情并通知审批人<br>3. 员工能够查看申请状态和审批结果 |
| US-003 | 作为一名员工，我希望在培训结束后能方便地进行培训评估，以便提供反馈帮助改进培训质量。 | 1. 培训结束后自动收到评估通知<br>2. 评估表单简洁易用<br>3. 提交后可查看自己的评估记录 |
| US-004 | 作为一名员工，我希望能够在线查看和下载我的培训证书，以便在需要时提供证明。 | 1. 完成培训后能够查看电子证书<br>2. 能够下载PDF格式证书<br>3. 证书包含必要信息并可验证真伪 |
| US-005 | 作为一名员工，我希望能够通过移动应用进行培训签到，以便更加便捷地记录出勤情况。 | 1. 移动应用支持培训签到功能<br>2. 签到流程简单快捷<br>3. 签到状态实时同步至系统 |

### 5.2 部门负责人相关用户故事

| ID | 用户故事 | 验收标准 |
|----|---------|----------|
| US-011 | 作为部门负责人，我希望能够提报部门整体的培训需求，以便满足部门业务发展和员工能力提升的需要。 | 1. 能够提交部门培训需求申请<br>2. 能够指定需求优先级和期望时间<br>3. 系统记录申请并通知相关人员 |
| US-012 | 作为部门负责人，我希望能够审批部门内员工的培训申请，以便合理安排部门培训资源。 | 1. 能够查看待审批的培训申请<br>2. 能够批准或驳回申请并填写理由<br>3. 审批结果自动通知申请人 |
| US-013 | 作为部门负责人，我希望能够查看部门的培训报表和分析数据，以便评估部门培训效果和规划下一步培训。 | 1. 能够查看部门培训完成率统计<br>2. 能够分析部门员工培训需求分布<br>3. 能够生成部门培训报表 |
| US-014 | 作为部门负责人，我希望能够了解部门员工的培训证书有效期情况，以便及时安排复训避免证书过期。 | 1. 能够查看证书即将过期的员工列表<br>2. 系统提供证书到期预警功能<br>3. 能够针对即将过期的证书安排复训 |

### 5.3 培训管理员相关用户故事

| ID | 用户故事 | 验收标准 |
|----|---------|----------|
| US-021 | 作为培训管理员，我希望能够高效地制定和管理培训计划，以便有序组织企业培训活动。 | 1. 能够基于培训需求快速生成培训计划<br>2. 能够灵活调整培训安排和资源分配<br>3. 能够跟踪计划执行进度 |
| US-022 | 作为培训管理员，我希望能够维护课程库并管理培训材料，以便确保培训内容的质量和一致性。 | 1. 能够创建和编辑课程信息<br>2. 能够上传和管理培训材料<br>3. 支持课程版本控制和更新 |
| US-023 | 作为培训管理员，我希望能够便捷地组织培训签到和记录培训结果，以便准确追踪培训执行情况。 | 1. 支持多种培训签到方式<br>2. 能够快速记录培训参与情况和成绩<br>3. 培训数据自动汇总统计 |
| US-024 | 作为培训管理员，我希望能够自动生成培训证书并管理证书发放，以便提高工作效率和确保证书规范性。 | 1. 培训完成后自动触发证书生成<br>2. 证书包含完整信息并符合标准格式<br>3. 支持证书批量生成和发放 |
| US-025 | 作为培训管理员，我希望能够查看各类培训报表并进行数据分析，以便为培训决策提供支持。 | 1. 能够生成多种维度的培训报表<br>2. 支持数据可视化展示<br>3. 能够导出报表数据 |

### 5.4 质量管理专员相关用户故事

| ID | 用户故事 | 验收标准 |
|----|---------|----------|
| US-031 | 作为质量管理专员，我希望能够审核培训计划的合规性，以便确保培训符合GMP和相关法规要求。 | 1. 能够查看培训计划详情并进行合规性检查<br>2. 能够批准或驳回计划并记录审核意见<br>3. 审核记录可追溯 |
| US-032 | 作为质量管理专员，我希望能够维护关键岗位的培训矩阵，以便明确各岗位的培训要求和标准。 | 1. 能够创建和更新培训矩阵<br>2. 能够为不同岗位设置不同的培训要求<br>3. 矩阵变更有完整记录 |
| US-033 | 作为质量管理专员，我希望能够执行培训记录的合规审计，以便发现问题并持续改进培训管理。 | 1. 能够按多种条件筛选培训记录<br>2. 能够检查培训记录的完整性和合规性<br>3. 能够记录审计发现和改进建议 |
| US-034 | 作为质量管理专员，我希望能够监控强制性培训的完成情况，以便确保所有员工满足岗位培训要求。 | 1. 能够查看强制性培训的完成率<br>2. 能够识别未完成强制性培训的员工<br>3. 系统提供预警和提醒功能 |

### 5.5 高管相关用户故事

| ID | 用户故事 | 验收标准 |
|----|---------|----------|
| US-041 | 作为高管，我希望能够审批企业年度培训计划，以便确保培训工作与企业战略目标一致。 | 1. 能够查看年度培训计划概述和预算<br>2. 能够批准或要求调整计划<br>3. 审批结果自动通知相关人员 |
| US-042 | 作为高管，我希望能够查看企业整体培训情况的概览报表，以便了解培训投入和效果。 | 1. 能够查看企业培训总览数据<br>2. 能够分析培训投入产出比<br>3. 支持关键指标可视化展示 |
| US-043 | 作为高管，我希望能够关注培训合规性情况，以便确保企业培训满足监管要求，降低合规风险。 | 1. 能够查看合规性关键指标<br>2. 能够识别潜在的合规风险点<br>3. 系统提供合规性预警功能 |

## 6. 特殊场景描述

### 6.1 新员工入职培训流程

**场景描述**：新员工入职时需要完成一系列规定的培训课程，以满足岗位要求和合规需要。

**参与者**：新员工、部门负责人、培训管理员、人力资源专员

**流程**：
1. 人力资源专员在系统中创建新员工档案并关联岗位信息
2. 系统根据培训矩阵自动识别新员工需要完成的培训课程
3. 培训管理员为新员工制定入职培训计划
4. 系统向新员工发送培训通知
5. 新员工按计划参加各类培训并完成签到
6. 培训结束后新员工进行培训评估
7. 完成所有培训后，系统自动生成培训证书
8. 培训管理员确认新员工培训完成情况

**系统支持**：
- 自动识别新员工培训需求
- 入职培训计划模板
- 培训进度跟踪
- 批量操作功能

### 6.2 法规变更触发的培训需求

**场景描述**：当相关法规发生变更时，需要识别受影响的岗位和员工，并安排相应的培训。

**参与者**：质量管理专员、培训管理员、部门负责人、受影响员工

**流程**：
1. 质量管理专员在系统中记录法规变更信息
2. 系统分析法规变更对各岗位的影响
3. 培训管理员根据分析结果创建专项培训课程
4. 系统自动识别需要参加培训的员工名单
5. 培训管理员制定培训计划并安排培训
6. 系统向相关员工发送培训通知
7. 员工参加培训并完成评估
8. 培训管理员记录培训完成情况并更新员工合规状态

**系统支持**：
- 法规变更影响分析
- 受影响人员自动识别
- 合规状态更新
- 培训效果验证

### 6.3 外部审计支持流程

**场景描述**：当企业面临外部监管审计时，需要提供完整的培训记录和合规证明。

**参与者**：外部审计员、质量管理专员、培训管理员

**流程**：
1. 审计员通过系统的审计接口登录
2. 质量管理专员设置审计范围和权限
3. 审计员查询和检索培训记录
4. 系统提供培训记录的完整性证明
5. 审计员查看电子签名和时间戳信息
6. 系统生成审计报告和数据导出
7. 质量管理专员确认审计过程和结果

**系统支持**：
- 审计专用接口和权限
- 数据完整性验证
- 电子签名验证
- 合规报告生成

---

**文档版本**：v1.0
**文档状态**：已完成
**最后更新**：2023-10-15
**文档维护**：培训系统开发团队
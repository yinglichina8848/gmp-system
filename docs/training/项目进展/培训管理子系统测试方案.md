# 培训管理子系统测试方案

## 📋 文档信息

| 属性 | 值 |
|------|---|
| 文档标题 | 培训管理子系统测试方案 |
| 版本号 | v1.0 |
| 创建日期 | 2025年11月30日 |
| 更新日期 | 2025年11月30日 |
| 作者 | GMP系统开发团队 |
| 状态 | 待审核 |

## 1. 测试目标

本测试方案旨在验证培训管理子系统的功能正确性、性能指标和安全性，确保其符合GMP系统的合规要求和业务需求。测试将覆盖培训计划管理、课程管理、培训记录追踪、效果评估等关键模块，确保系统稳定可靠、安全合规。

## 2. 测试范围

### 2.1 功能测试

| 模块 | 测试内容 |
|------|----------|
| 培训计划管理 | 培训需求收集、培训计划制定、培训计划发布、培训计划调整 |
| 课程管理 | 课程创建、课程内容管理、课程版本控制、课程分类管理 |
| 培训执行管理 | 培训报名、培训签到、培训过程记录、培训资料分发 |
| 培训记录管理 | 培训记录查询、培训记录导出、培训记录归档 |
| 培训效果评估 | 培训满意度调查、培训考核、培训效果分析、培训证书生成 |
| 培训资源管理 | 培训讲师管理、培训场地管理、培训设备管理 |
| GMP合规管理 | 培训合规性检查、培训记录审计、培训证书验证 |
| 认证与安全管理 | 认证子系统集成、电子签名管理、审计日志管理、权限矩阵控制 |

### 2.2 性能测试

| 测试项 | 目标值 | 测量方法 |
|--------|--------|----------|
| 培训计划查询响应时间 | < 500ms | JMeter负载测试 |
| 培训记录生成时间 | < 300ms | JMeter负载测试 |
| 系统并发用户数 | > 500 | 并发测试 |
| 峰值TPS | > 200 | 压力测试 |
| 培训效果评估报告生成时间 | < 2000ms | JMeter负载测试 |
| 培训证书生成时间 | < 1000ms | JMeter负载测试 |

### 2.3 安全性测试

| 测试类型 | 测试内容 |
|----------|----------|
| 认证安全 | 与AUTH-SYS集成验证、电子签名安全性 |
| 授权安全 | 权限提升、越权访问、权限检查、权限分离 |
| 数据安全 | 敏感数据加密、传输安全、数据完整性 |
| 注入测试 | SQL注入、XSS、CSRF、命令注入 |
| 合规检查 | GMP安全合规要求、审计日志完整性 |
| 配置安全 | 敏感配置保护、默认配置安全性 |

### 2.4 兼容性测试

| 测试项 | 测试内容 |
|--------|----------|
| 浏览器兼容性 | Chrome 90+, Firefox 88+, Safari 14+, Edge 90+ |
| 操作系统兼容性 | Windows 10+, Linux (Ubuntu 20.04+), macOS 11+ |
| 移动设备兼容性 | iOS 14+, Android 10+ |
| API兼容性 | 与HR系统、QMS系统的API集成 |
| 数据库兼容性 | PostgreSQL 13+, 14+ |
| Redis兼容性 | Redis 6.2+, 7+ |

## 3. 测试方法

### 3.1 单元测试

| 测试模块 | 测试内容 | 测试工具 | 测试步骤 |
|----------|----------|----------|----------|
| 培训计划管理 | 培训计划生成、调整、发布逻辑 | JUnit 5、Mockito | 1. 测试培训计划创建逻辑<br>2. 测试培训计划调整机制<br>3. 测试培训计划发布流程 |
| 课程管理 | 课程创建、内容管理、版本控制 | JUnit 5、Mockito | 1. 测试课程创建和更新<br>2. 测试课程版本控制<br>3. 测试课程分类管理 |
| 培训记录管理 | 培训记录生成、查询、导出 | JUnit 5、Mockito | 1. 测试培训记录生成<br>2. 测试培训记录查询<br>3. 测试培训记录导出 |
| 异常处理 | 全局异常处理、业务异常处理 | JUnit 5、Mockito | 1. 测试各种异常场景<br>2. 测试异常响应格式<br>3. 测试异常日志记录 |
| 服务层 | 业务逻辑验证 | JUnit 5、Mockito | 1. 测试服务层方法逻辑<br>2. 测试边界条件处理<br>3. 测试错误情况处理 |

### 3.2 集成测试

| 测试模块 | 测试内容 | 测试工具 | 测试步骤 |
|----------|----------|----------|----------|
| 培训全流程 | 从培训需求到效果评估的完整流程 | Spring Boot Test、TestRestTemplate | 1. 测试培训需求收集和计划制定<br>2. 测试培训执行和记录<br>3. 测试培训效果评估和证书生成 |
| 系统集成 | 与HR系统、QMS系统的集成 | Spring Boot Test、TestContainers | 1. 测试与HR系统的人员数据同步<br>2. 测试与QMS系统的合规性检查<br>3. 测试跨系统数据一致性 |
| 数据库集成 | 数据持久化、事务管理 | Spring Boot Test、H2 | 1. 测试数据持久化完整性<br>2. 测试事务管理<br>3. 测试数据库查询性能 |

### 3.3 性能测试

| 测试类型 | 测试内容 | 测试工具 | 测试步骤 |
|----------|----------|----------|----------|
| 负载测试 | 持续高负载下的系统性能 | JMeter | 1. 构建测试脚本，模拟真实用户行为<br>2. 设置并发用户数从100到500递增<br>3. 执行测试，监控响应时间和系统资源<br>4. 分析测试结果，找出性能瓶颈 |
| 压力测试 | 系统极限负载下的表现 | JMeter | 1. 逐步增加并发用户数，直到系统崩溃<br>2. 记录系统崩溃点和性能拐点<br>3. 分析系统瓶颈，提出优化建议 |
| 耐久测试 | 长时间运行的系统稳定性 | JMeter | 1. 设置持续负载（200并发用户）<br>2. 运行测试24小时以上<br>3. 监控系统资源使用情况<br>4. 检查是否有内存泄漏或性能下降 |

### 3.4 安全性测试

| 测试类型 | 测试内容 | 测试工具 | 测试步骤 |
|----------|----------|----------|----------|
| OWASP扫描 | 自动安全漏洞扫描 | OWASP ZAP | 1. 配置扫描范围，包括所有API端点<br>2. 执行主动和被动扫描<br>3. 分析扫描结果，识别安全漏洞<br>4. 验证漏洞修复情况 |
| 渗透测试 | 手动安全测试 | Burp Suite | 1. 信息收集，了解系统架构和功能<br>2. 漏洞发现，识别潜在安全问题<br>3. 漏洞验证，确认漏洞存在性<br>4. 漏洞利用，评估漏洞影响<br>5. 生成渗透测试报告 |
| 代码审查 | 静态代码安全分析 | SonarQube | 1. 配置SonarQube规则，包括安全规则<br>2. 执行代码扫描<br>3. 分析扫描结果，识别安全问题<br>4. 修复安全问题，重新扫描验证 |

## 4. 测试环境

### 4.1 测试环境配置

| 环境类型 | 配置描述 | 部署位置 |
|----------|----------|----------|
| 开发测试环境 | 单节点部署，配置精简，使用H2数据库 | 开发服务器 |
| 集成测试环境 | 多节点部署，配置完整，使用PostgreSQL和Redis | 集成服务器 |
| 性能测试环境 | 生产级配置，监控完善，与生产环境相似 | 性能测试服务器 |
| 安全测试环境 | 隔离网络，特殊配置，禁用外部访问 | 安全测试服务器 |

### 4.2 基础设施要求

| 资源类型 | 开发测试环境 | 集成测试环境 | 性能测试环境 | 安全测试环境 |
|----------|--------------|--------------|--------------|--------------|
| CPU | 4核 | 8核 | 16核 | 8核 |
| 内存 | 8GB | 16GB | 32GB | 16GB |
| 存储 | SSD 200GB | SSD 500GB | SSD 1TB | SSD 500GB |
| 网络 | 千兆网络 | 千兆网络 | 万兆网络 | 隔离千兆网络 |

### 4.3 软件环境

| 组件 | 版本 | 用途 |
|------|------|------|
| Java | 17 | 应用服务运行环境 |
| PostgreSQL | 14+ | 数据库（集成、性能、安全环境） |
| H2 | 2.1.214 | 数据库（开发测试环境） |
| Redis | 7+ | 缓存、会话管理 |
| Spring Boot | 3.0+ | 应用框架 |
| Spring Security | 6.0+ | 安全框架 |
| Spring Data JPA | 3.0+ | 数据访问框架 |
| Lombok | 1.18.24 | 代码简化库 |

## 5. 测试用例

### 5.1 培训计划管理测试用例

| 测试ID | 功能点 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|--------|--------|----------|----------|----------|------|
| TC-TRAIN-PLAN-001 | 培训计划创建 | 1. 培训管理员登录系统<br>2. 进入培训计划管理页面<br>3. 点击创建培训计划按钮<br>4. 输入培训计划信息<br>5. 点击保存按钮 | 培训计划创建成功，显示在计划列表中 | | |
| TC-TRAIN-PLAN-002 | 培训计划发布 | 1. 培训管理员登录系统<br>2. 进入培训计划管理页面<br>3. 选择一个待发布的培训计划<br>4. 点击发布按钮<br>5. 确认发布 | 培训计划发布成功，状态变更为已发布，相关人员收到通知 | | |
| TC-TRAIN-PLAN-003 | 培训计划调整 | 1. 培训管理员登录系统<br>2. 进入培训计划管理页面<br>3. 选择一个已发布的培训计划<br>4. 点击调整按钮<br>5. 修改培训计划信息<br>6. 点击保存按钮 | 培训计划调整成功，相关人员收到调整通知 | | |

### 5.2 培训执行管理测试用例

| 测试ID | 功能点 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|--------|--------|----------|----------|----------|------|
| TC-TRAIN-EXEC-001 | 培训报名 | 1. 员工登录系统<br>2. 进入培训计划页面<br>3. 选择一个培训计划<br>4. 点击报名按钮<br>5. 确认报名 | 报名成功，显示在个人培训计划中 | | |
| TC-TRAIN-EXEC-002 | 培训签到 | 1. 员工登录系统<br>2. 进入培训执行页面<br>3. 选择一个正在进行的培训<br>4. 点击签到按钮<br>5. 完成签到 | 签到成功，培训记录中显示签到状态 | | |
| TC-TRAIN-EXEC-003 | 培训记录生成 | 1. 培训管理员登录系统<br>2. 进入培训执行页面<br>3. 选择一个已完成的培训<br>4. 点击生成记录按钮<br>5. 填写培训记录信息<br>6. 点击保存按钮 | 培训记录生成成功，员工可在个人中心查看 | | |

### 5.3 培训效果评估测试用例

| 测试ID | 功能点 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|--------|--------|----------|----------|----------|------|
| TC-TRAIN-EVAL-001 | 培训满意度调查 | 1. 员工登录系统<br>2. 进入培训记录页面<br>3. 选择一个已完成的培训<br>4. 点击满意度调查按钮<br>5. 填写调查表单<br>6. 提交调查 | 调查提交成功，培训管理员可查看调查结果 | | |
| TC-TRAIN-EVAL-002 | 培训考核 | 1. 培训管理员登录系统<br>2. 进入培训考核页面<br>3. 选择一个培训计划<br>4. 点击创建考核按钮<br>5. 设置考核内容和规则<br>6. 发布考核 | 考核发布成功，员工可在个人中心查看和参与考核 | | |
| TC-TRAIN-EVAL-003 | 培训证书生成 | 1. 培训管理员登录系统<br>2. 进入培训证书管理页面<br>3. 选择一个已完成考核的培训<br>4. 点击生成证书按钮<br>5. 确认生成证书 | 证书生成成功，员工可在个人中心下载和查看 | | |

## 6. 测试数据

### 6.1 测试账户数据

| 账户类型 | 用户名 | 密码 | 角色 | 组织 | 状态 | 用途 |
|----------|--------|------|------|------|------|------|
| 超级管理员 | admin | Admin@123 | ROLE_SYSTEM_ADMIN | 系统组织 | 启用 | 系统管理测试 |
| 培训管理员 | train_admin | TrainAdmin@123 | ROLE_TRAINING_ADMIN | 培训组织 | 启用 | 培训管理测试 |
| 培训讲师 | trainer | Trainer@123 | ROLE_TRAINER | 培训组织 | 启用 | 培训执行测试 |
| 普通员工 | employee | Employee@01 | ROLE_EMPLOYEE | 生产组织 | 启用 | 培训参与测试 |
| 质量人员 | quality | Quality@123 | ROLE_QUALITY | 质量组织 | 启用 | 合规性测试 |

### 6.2 测试培训计划数据

| 培训计划ID | 培训名称 | 培训类型 | 培训对象 | 培训时间 | 状态 | 用途 |
|------------|----------|----------|----------|----------|------|------|
| TP-001 | GMP基础知识培训 | 必修 | 全体员工 | 2025-12-10 | 待发布 | 培训计划测试 |
| TP-002 | 设备操作培训 | 必修 | 生产人员 | 2025-12-15 | 已发布 | 培训执行测试 |
| TP-003 | 质量体系培训 | 选修 | 质量人员 | 2025-12-20 | 已完成 | 培训效果评估测试 |

## 7. 测试进度计划

| 测试阶段 | 开始日期 | 结束日期 | 主要任务 | 负责人 | 完成情况 |
|----------|----------|----------|----------|--------|----------|
| 测试准备 | 2025-12-01 | 2025-12-03 | 测试环境搭建、测试用例编写、测试数据准备 | 测试团队 | 待执行 |
| 单元测试 | 2025-12-04 | 2025-12-06 | 执行单元测试、修复发现的问题、生成单元测试报告 | 开发团队 | 待执行 |
| 集成测试 | 2025-12-07 | 2025-12-11 | 执行集成测试、API测试、修复发现的问题 | 测试团队 | 待执行 |
| 功能测试 | 2025-12-12 | 2025-12-18 | 执行端到端功能测试、UI测试、修复发现的问题 | 测试团队 | 待执行 |
| 性能测试 | 2025-12-19 | 2025-12-21 | 执行负载、压力测试、耐久测试、生成性能测试报告 | 性能测试团队 | 待执行 |
| 安全测试 | 2025-12-22 | 2025-12-25 | 执行安全扫描、渗透测试、合规性检查、生成安全测试报告 | 安全测试团队 | 待执行 |
| 回归测试 | 2025-12-26 | 2025-12-28 | 验证修复的问题、执行全量测试、生成回归测试报告 | 测试团队 | 待执行 |
| 测试报告 | 2025-12-29 | 2025-12-30 | 编写测试报告、测试总结、覆盖率分析 | 测试团队 | 待执行 |

## 8. 风险评估

| 风险类型 | 风险描述 | 可能性 | 影响程度 | 缓解措施 | 状态 |
|----------|----------|--------|----------|----------|------|
| 测试环境风险 | 测试环境无法模拟真实培训场景 | 中 | 中 | 准备多样化的测试数据，模拟真实培训场景 | 待缓解 |
| 测试数据风险 | 测试数据不全面导致某些场景未覆盖 | 中 | 中 | 基于业务场景设计测试数据，覆盖各种边界情况 | 待缓解 |
| 时间风险 | 测试周期可能不够，导致测试不充分 | 高 | 高 | 提前规划测试时间，优先测试关键功能，并行执行测试任务 | 待缓解 |
| 依赖风险 | 依赖HR系统和QMS系统的接口 | 中 | 高 | 建立mock服务，减少对外部依赖的影响 | 待缓解 |

## 9. 测试通过标准

| 标准类型 | 通过标准 | 实际情况 |
|----------|----------|----------|
| 功能测试 | 所有关键功能测试用例通过率100%，非关键功能测试用例通过率≥95% | 待执行 |
| 单元测试 | 代码覆盖率≥90%（行覆盖率、分支覆盖率、类覆盖率、方法覆盖率） | 待执行 |
| 集成测试 | 所有集成测试用例通过率≥98% | 待执行 |
| 性能测试 | 响应时间满足要求，系统稳定性良好，无内存泄漏 | 待执行 |
| 安全测试 | 无严重安全漏洞，中等级别漏洞≤2个，低级别漏洞≤5个 | 待执行 |
| 合规性 | 满足GMP合规要求和21 CFR Part 11要求 | 待执行 |

## 10. 测试交付物

| 交付物名称 | 描述 | 交付时间 | 负责人 | 状态 |
|------------|------|----------|--------|------|
| 测试计划 | 测试范围、方法、进度等 | 2025-12-03 | 测试经理 | 待执行 |
| 测试用例 | 详细的功能、性能、安全测试用例 | 2025-12-03 | 测试工程师 | 待执行 |
| 测试脚本 | 自动化测试脚本（单元测试、集成测试、API测试） | 2025-12-06 | 测试自动化工程师 | 待执行 |
| 单元测试报告 | 单元测试执行结果、覆盖率分析 | 2025-12-06 | 开发团队 | 待执行 |
| 集成测试报告 | 集成测试执行结果、问题分析 | 2025-12-11 | 测试团队 | 待执行 |
| 功能测试报告 | 功能测试执行结果、问题分析 | 2025-12-18 | 测试团队 | 待执行 |
| 性能测试报告 | 性能测试结果、瓶颈分析 | 2025-12-21 | 性能测试工程师 | 待执行 |
| 安全测试报告 | 安全漏洞扫描结果、修复建议 | 2025-12-25 | 安全测试工程师 | 待执行 |
| 回归测试报告 | 回归测试执行结果、问题分析 | 2025-12-28 | 测试团队 | 待执行 |
| 测试总结报告 | 测试总结、建议、下一步计划 | 2025-12-30 | 测试经理 | 待执行 |
| 覆盖率报告 | 代码覆盖率分析、改进建议 | 2025-12-30 | 测试团队 | 待执行 |

## 11. 附录

### 11.1 测试工具清单

| 工具名称 | 版本 | 用途 | 负责人 |
|----------|------|------|--------|
| JUnit 5 | 5.8.2 | 单元测试 | 开发团队 |
| Mockito | 4.5.1 | 单元测试 | 开发团队 |
| Spring Boot Test | 3.0.5 | 集成测试 | 开发团队 |
| JMeter | 5.5 | 性能测试 | 测试团队 |
| Postman | 9.28.0 | API测试 | 测试团队 |
| Selenium | 4.5.0 | 端到端测试 | 测试团队 |
| OWASP ZAP | 2.12.0 | 安全扫描 | 安全团队 |
| SonarQube | 9.7 | 代码质量分析 | 质量团队 |
| JaCoCo | 0.8.8 | 代码覆盖率分析 | 开发团队 |

### 11.2 相关文档

| 文档名称 | 版本 | 用途 |
|----------|------|------|
| 培训管理子系统需求规格说明书 | v1.0 | 需求参考 |
| 培训管理子系统架构设计文档 | v1.0 | 设计参考 |
| GMP系统安全规范 | v1.0.0 | 安全合规要求 |
| 测试环境配置指南 | v1.0.0 | 环境配置参考 |

---

*文档版本：v1.0*
*审核状态：待审核*
*下次更新：2025-12-30*
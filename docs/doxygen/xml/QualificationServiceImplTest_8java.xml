<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.8" xml:lang="en-US">
  <compounddef id="QualificationServiceImplTest_8java" kind="file" language="Java">
    <compoundname>QualificationServiceImplTest.java</compoundname>
    <includes local="no">com.gmp.hr.dto.QualificationDTO</includes>
    <incdepgraph>
      <node id="1">
        <label>hr-service/src/test/java/com/gmp/hr/service/impl/QualificationServiceImplTest.java</label>
        <link refid="QualificationServiceImplTest_8java"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>com.gmp.hr.dto.QualificationDTO</label>
      </node>
    </incdepgraph>
    <innerclass refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest" prot="public">com::gmp::hr::service::impl::QualificationServiceImplTest</innerclass>
    <innernamespace refid="namespacecom_1_1gmp_1_1hr_1_1service_1_1impl">com::gmp::hr::service::impl</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="keyword">package<sp/></highlight><highlight class="normal">com.gmp.hr.service.impl;</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>com.gmp.hr.dto.QualificationDTO;</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>com.gmp.hr.entity.Employee;</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>com.gmp.hr.entity.Qualification;</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>com.gmp.hr.entity.QualificationType;</highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>com.gmp.hr.exception.BusinessException;</highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>com.gmp.hr.repository.EmployeeRepository;</highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>com.gmp.hr.repository.QualificationRepository;</highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>com.gmp.hr.repository.QualificationTypeRepository;</highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>org.junit.jupiter.api.BeforeEach;</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>org.junit.jupiter.api.Test;</highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>org.mockito.InjectMocks;</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>org.mockito.Mock;</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>org.mockito.MockitoAnnotations;</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>java.time.LocalDate;</highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>java.util.*;</highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>org.junit.jupiter.api.Assertions.*;</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>org.mockito.Mockito.*;</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="29" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest" kindref="compound">QualificationServiceImplTest</ref><sp/>{</highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/>@Mock</highlight></codeline>
<codeline lineno="32" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/>QualificationRepository<sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>;</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/>@Mock</highlight></codeline>
<codeline lineno="35" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1ac618fbbde00156527cd597339ac96175" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/>EmployeeRepository<sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1ac618fbbde00156527cd597339ac96175" kindref="member">employeeRepository</ref>;</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/>@Mock</highlight></codeline>
<codeline lineno="38" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1af82a5bb3bd2d7fecc6e9f409deaf02aa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/>QualificationTypeRepository<sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1af82a5bb3bd2d7fecc6e9f409deaf02aa" kindref="member">qualificationTypeRepository</ref>;</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/>@InjectMocks</highlight></codeline>
<codeline lineno="41" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a99522273f9ecb391afa369f6aa28b83e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImpl" kindref="compound">QualificationServiceImpl</ref><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a99522273f9ecb391afa369f6aa28b83e" kindref="member">qualificationService</ref>;</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a92c4ab4e2a70ba08b45b3a63008e0889" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/>Qualification<sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a92c4ab4e2a70ba08b45b3a63008e0889" kindref="member">qualification</ref>;</highlight></codeline>
<codeline lineno="44" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a029d329146829de80cd194de62e5687f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/>QualificationDTO<sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a029d329146829de80cd194de62e5687f" kindref="member">qualificationDTO</ref>;</highlight></codeline>
<codeline lineno="45" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1ac4bdbf0ae22eec21c532f4a63cfaec44" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/>Employee<sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1ac4bdbf0ae22eec21c532f4a63cfaec44" kindref="member">employee</ref>;</highlight></codeline>
<codeline lineno="46" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a51000b9bc3cea2371cc70cfd781d391b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/>QualificationType<sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a51000b9bc3cea2371cc70cfd781d391b" kindref="member">qualificationType</ref>;</highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/>@BeforeEach</highlight></codeline>
<codeline lineno="49" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a379e85eef3927845779cfe74069f316c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a379e85eef3927845779cfe74069f316c" kindref="member">setUp</ref>()<sp/>{</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MockitoAnnotations.openMocks(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>初始化测试数据</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1ac4bdbf0ae22eec21c532f4a63cfaec44" kindref="member">employee</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Employee();</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1ac4bdbf0ae22eec21c532f4a63cfaec44" kindref="member">employee</ref>.setId(1L);</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>employee.setCode(&quot;EMP001&quot;);<sp/>//<sp/>假设Employee实体没有setCode方法</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1ac4bdbf0ae22eec21c532f4a63cfaec44" kindref="member">employee</ref>.setName(</highlight><highlight class="stringliteral">&quot;张三&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a51000b9bc3cea2371cc70cfd781d391b" kindref="member">qualificationType</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>QualificationType();</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a51000b9bc3cea2371cc70cfd781d391b" kindref="member">qualificationType</ref>.setId(1L);</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a51000b9bc3cea2371cc70cfd781d391b" kindref="member">qualificationType</ref>.setCode(</highlight><highlight class="stringliteral">&quot;CERT001&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a51000b9bc3cea2371cc70cfd781d391b" kindref="member">qualificationType</ref>.setName(</highlight><highlight class="stringliteral">&quot;计算机等级证书&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>qualificationType.setNeedUpdate(true);<sp/>//<sp/>假设QualificationType实体没有setNeedUpdate方法</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>qualificationType.setUpdateCycle(365);<sp/>//<sp/>假设QualificationType实体没有setUpdateCycle方法</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a92c4ab4e2a70ba08b45b3a63008e0889" kindref="member">qualification</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Qualification();</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a92c4ab4e2a70ba08b45b3a63008e0889" kindref="member">qualification</ref>.setId(1L);</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a92c4ab4e2a70ba08b45b3a63008e0889" kindref="member">qualification</ref>.setCertificateNumber(</highlight><highlight class="stringliteral">&quot;CERT-2023-0001&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a92c4ab4e2a70ba08b45b3a63008e0889" kindref="member">qualification</ref>.setIssueDate(LocalDate.of(2023,<sp/>1,<sp/>1));</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a92c4ab4e2a70ba08b45b3a63008e0889" kindref="member">qualification</ref>.setExpiryDate(LocalDate.of(2026,<sp/>1,<sp/>1));</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>假设实体类使用了不同的方法名或构造函数</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>qualification.setIssueAuthority(&quot;国家信息产业部&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>qualification.setStatus(&quot;有效&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>qualification.setEmployeeId(1L);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>qualification.setTypeId(1L);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a92c4ab4e2a70ba08b45b3a63008e0889" kindref="member">qualification</ref>.setEmployee(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1ac4bdbf0ae22eec21c532f4a63cfaec44" kindref="member">employee</ref>);</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a92c4ab4e2a70ba08b45b3a63008e0889" kindref="member">qualification</ref>.setQualificationType(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a51000b9bc3cea2371cc70cfd781d391b" kindref="member">qualificationType</ref>);</highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a029d329146829de80cd194de62e5687f" kindref="member">qualificationDTO</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>QualificationDTO();</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a029d329146829de80cd194de62e5687f" kindref="member">qualificationDTO</ref>.setId(1L);</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a029d329146829de80cd194de62e5687f" kindref="member">qualificationDTO</ref>.setCertificateNumber(</highlight><highlight class="stringliteral">&quot;CERT-2023-0001&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a029d329146829de80cd194de62e5687f" kindref="member">qualificationDTO</ref>.setIssueDate(LocalDate.of(2023,<sp/>1,<sp/>1));</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a029d329146829de80cd194de62e5687f" kindref="member">qualificationDTO</ref>.setExpiryDate(LocalDate.of(2026,<sp/>1,<sp/>1));</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a029d329146829de80cd194de62e5687f" kindref="member">qualificationDTO</ref>.setIssueAuthority(</highlight><highlight class="stringliteral">&quot;国家信息产业部&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a029d329146829de80cd194de62e5687f" kindref="member">qualificationDTO</ref>.setStatus(</highlight><highlight class="stringliteral">&quot;有效&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a029d329146829de80cd194de62e5687f" kindref="member">qualificationDTO</ref>.setEmployeeId(1L);</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a029d329146829de80cd194de62e5687f" kindref="member">qualificationDTO</ref>.setQualificationTypeId(1L);</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a029d329146829de80cd194de62e5687f" kindref="member">qualificationDTO</ref>.setEmployeeName(</highlight><highlight class="stringliteral">&quot;张三&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a029d329146829de80cd194de62e5687f" kindref="member">qualificationDTO</ref>.setQualificationTypeName(</highlight><highlight class="stringliteral">&quot;计算机等级证书&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/>@Test</highlight></codeline>
<codeline lineno="92" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a35d99fd0a91bc92b5cc0ed411addc4aa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a35d99fd0a91bc92b5cc0ed411addc4aa" kindref="member">testCreateQualification_Success</ref>()<sp/>{</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>准备</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1ac618fbbde00156527cd597339ac96175" kindref="member">employeeRepository</ref>.existsById(1L)).thenReturn(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1af82a5bb3bd2d7fecc6e9f409deaf02aa" kindref="member">qualificationTypeRepository</ref>.existsById(1L)).thenReturn(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>使用findByCertificateNumberAndDeletedFalse来模拟证书编号不存在</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>.findByCertificateNumberAndDeletedFalse(</highlight><highlight class="stringliteral">&quot;CERT-2023-0001&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.thenReturn(Optional.empty());</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>使用findByEmployeeIdAndQualificationTypeIdAndDeletedFalse来模拟员工-资质类型组合不存在</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>.findByEmployeeIdAndQualificationTypeIdAndDeletedFalse(1L,<sp/>1L))</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.thenReturn(Collections.emptyList());</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1ac618fbbde00156527cd597339ac96175" kindref="member">employeeRepository</ref>.findById(1L)).thenReturn(Optional.of(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1ac4bdbf0ae22eec21c532f4a63cfaec44" kindref="member">employee</ref>));</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1af82a5bb3bd2d7fecc6e9f409deaf02aa" kindref="member">qualificationTypeRepository</ref>.findById(1L)).thenReturn(Optional.of(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a51000b9bc3cea2371cc70cfd781d391b" kindref="member">qualificationType</ref>));</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>.save(any(Qualification.class))).thenReturn(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a92c4ab4e2a70ba08b45b3a63008e0889" kindref="member">qualification</ref>);</highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>执行</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QualificationDTO<sp/>result<sp/>=<sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a99522273f9ecb391afa369f6aa28b83e" kindref="member">qualificationService</ref>.<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImpl_1ad2f213b7650bef753a5bad04a2b3ded8" kindref="member">createQualification</ref>(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a029d329146829de80cd194de62e5687f" kindref="member">qualificationDTO</ref>);</highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>验证</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertNotNull(result);</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertEquals(</highlight><highlight class="stringliteral">&quot;CERT-2023-0001&quot;</highlight><highlight class="normal">,<sp/>result.getCertificateNumber());</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertEquals(</highlight><highlight class="stringliteral">&quot;张三&quot;</highlight><highlight class="normal">,<sp/>result.getEmployeeName());</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>verify(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>,<sp/>times(1)).save(any(Qualification.class));</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/>@Test</highlight></codeline>
<codeline lineno="117" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a875936d21a338c0a0a7e4ee954495e57" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a875936d21a338c0a0a7e4ee954495e57" kindref="member">testCreateQualification_EmployeeNotExists</ref>()<sp/>{</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>准备</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1ac618fbbde00156527cd597339ac96175" kindref="member">employeeRepository</ref>.existsById(1L)).thenReturn(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>执行和验证</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BusinessException<sp/>exception<sp/>=<sp/>assertThrows(BusinessException.class,</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>()<sp/>-&gt;<sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a99522273f9ecb391afa369f6aa28b83e" kindref="member">qualificationService</ref>.<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImpl_1ad2f213b7650bef753a5bad04a2b3ded8" kindref="member">createQualification</ref>(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a029d329146829de80cd194de62e5687f" kindref="member">qualificationDTO</ref>));</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertEquals(</highlight><highlight class="stringliteral">&quot;关联的员工不存在，ID:<sp/>1&quot;</highlight><highlight class="normal">,<sp/>exception.getMessage());</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>verify(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>,<sp/>never()).save(any(Qualification.class));</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/>@Test</highlight></codeline>
<codeline lineno="129" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a4da28ed38d8485309e113caeeee3d5cc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a4da28ed38d8485309e113caeeee3d5cc" kindref="member">testCreateQualification_CertificateNumberExists</ref>()<sp/>{</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>准备</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1ac618fbbde00156527cd597339ac96175" kindref="member">employeeRepository</ref>.existsById(1L)).thenReturn(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1af82a5bb3bd2d7fecc6e9f409deaf02aa" kindref="member">qualificationTypeRepository</ref>.existsById(1L)).thenReturn(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>.findByCertificateNumberAndDeletedFalse(</highlight><highlight class="stringliteral">&quot;CERT-2023-0001&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.thenReturn(Optional.of(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a92c4ab4e2a70ba08b45b3a63008e0889" kindref="member">qualification</ref>));</highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>执行和验证</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BusinessException<sp/>exception<sp/>=<sp/>assertThrows(BusinessException.class,</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>()<sp/>-&gt;<sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a99522273f9ecb391afa369f6aa28b83e" kindref="member">qualificationService</ref>.<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImpl_1ad2f213b7650bef753a5bad04a2b3ded8" kindref="member">createQualification</ref>(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a029d329146829de80cd194de62e5687f" kindref="member">qualificationDTO</ref>));</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertEquals(</highlight><highlight class="stringliteral">&quot;证书编号<sp/>CERT-2023-0001<sp/>已存在&quot;</highlight><highlight class="normal">,<sp/>exception.getMessage());</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>verify(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>,<sp/>never()).save(any(Qualification.class));</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/>@Test</highlight></codeline>
<codeline lineno="144" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a43c6a6910d094d29b2d3bac224bb0aff" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a43c6a6910d094d29b2d3bac224bb0aff" kindref="member">testGetQualificationById_Success</ref>()<sp/>{</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>准备</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>.findById(1L)).thenReturn(Optional.of(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a92c4ab4e2a70ba08b45b3a63008e0889" kindref="member">qualification</ref>));</highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>执行</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QualificationDTO<sp/>result<sp/>=<sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a99522273f9ecb391afa369f6aa28b83e" kindref="member">qualificationService</ref>.<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImpl_1a6dd375c87ce3c7b4ea0346f1fb656632" kindref="member">getQualificationById</ref>(1L);</highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>验证</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertNotNull(result);</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertEquals(1L,<sp/>result.getId());</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertEquals(</highlight><highlight class="stringliteral">&quot;CERT-2023-0001&quot;</highlight><highlight class="normal">,<sp/>result.getCertificateNumber());</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/>@Test</highlight></codeline>
<codeline lineno="158" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a3a4acd8c89617dfe682b6a27ff27ee1a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a3a4acd8c89617dfe682b6a27ff27ee1a" kindref="member">testGetQualificationById_NotFound</ref>()<sp/>{</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>准备</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>.findById(1L)).thenReturn(Optional.empty());</highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>执行和验证</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BusinessException<sp/>exception<sp/>=<sp/>assertThrows(BusinessException.class,</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>()<sp/>-&gt;<sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a99522273f9ecb391afa369f6aa28b83e" kindref="member">qualificationService</ref>.<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImpl_1a6dd375c87ce3c7b4ea0346f1fb656632" kindref="member">getQualificationById</ref>(1L));</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertEquals(</highlight><highlight class="stringliteral">&quot;资质不存在，ID:<sp/>1&quot;</highlight><highlight class="normal">,<sp/>exception.getMessage());</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/>@Test</highlight></codeline>
<codeline lineno="169" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1aab2baf492e86fdae4ab1284756a075ba" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1aab2baf492e86fdae4ab1284756a075ba" kindref="member">testGetQualificationByCertificateNumber_Success</ref>()<sp/>{</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>准备</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>.findByCertificateNumberAndDeletedFalse(</highlight><highlight class="stringliteral">&quot;CERT-2023-0001&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.thenReturn(Optional.of(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a92c4ab4e2a70ba08b45b3a63008e0889" kindref="member">qualification</ref>));</highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>执行</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QualificationDTO<sp/>result<sp/>=<sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a99522273f9ecb391afa369f6aa28b83e" kindref="member">qualificationService</ref>.<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImpl_1af62fbe368fe998142997a82ad10a7674" kindref="member">getQualificationByCertificateNumber</ref>(</highlight><highlight class="stringliteral">&quot;CERT-2023-0001&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>验证</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertNotNull(result);</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertEquals(</highlight><highlight class="stringliteral">&quot;CERT-2023-0001&quot;</highlight><highlight class="normal">,<sp/>result.getCertificateNumber());</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/>@Test</highlight></codeline>
<codeline lineno="183" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a24fc5276927ce27c904e192484e7603f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a24fc5276927ce27c904e192484e7603f" kindref="member">testUpdateQualification_Success</ref>()<sp/>{</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>准备</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>.findById(1L)).thenReturn(Optional.of(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a92c4ab4e2a70ba08b45b3a63008e0889" kindref="member">qualification</ref>));</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>使用findByCertificateNumberAndDeletedFalse来模拟不存在冲突的证书编号</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>.findByCertificateNumberAndDeletedFalse(</highlight><highlight class="stringliteral">&quot;CERT-2023-0001&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.thenReturn(Optional.empty());</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1ac618fbbde00156527cd597339ac96175" kindref="member">employeeRepository</ref>.findById(1L)).thenReturn(Optional.of(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1ac4bdbf0ae22eec21c532f4a63cfaec44" kindref="member">employee</ref>));</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1af82a5bb3bd2d7fecc6e9f409deaf02aa" kindref="member">qualificationTypeRepository</ref>.findById(1L)).thenReturn(Optional.of(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a51000b9bc3cea2371cc70cfd781d391b" kindref="member">qualificationType</ref>));</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>.save(any(Qualification.class))).thenReturn(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a92c4ab4e2a70ba08b45b3a63008e0889" kindref="member">qualification</ref>);</highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>修改DTO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a029d329146829de80cd194de62e5687f" kindref="member">qualificationDTO</ref>.setIssueAuthority(</highlight><highlight class="stringliteral">&quot;国家信息技术部&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>执行</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QualificationDTO<sp/>result<sp/>=<sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a99522273f9ecb391afa369f6aa28b83e" kindref="member">qualificationService</ref>.<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImpl_1a8d725f84d61c9aeb75674d4c083f09bf" kindref="member">updateQualification</ref>(1L,<sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a029d329146829de80cd194de62e5687f" kindref="member">qualificationDTO</ref>);</highlight></codeline>
<codeline lineno="198"><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>验证</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertNotNull(result);</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertEquals(</highlight><highlight class="stringliteral">&quot;国家信息技术部&quot;</highlight><highlight class="normal">,<sp/>result.getIssueAuthority());</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>verify(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>,<sp/>times(1)).save(any(Qualification.class));</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="204"><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/>@Test</highlight></codeline>
<codeline lineno="206" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1ab4cf695c85ad1dc88e632bb76d539e98" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1ab4cf695c85ad1dc88e632bb76d539e98" kindref="member">testDeleteQualification_Success</ref>()<sp/>{</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>准备</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>.findById(1L)).thenReturn(Optional.of(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a92c4ab4e2a70ba08b45b3a63008e0889" kindref="member">qualification</ref>));</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>doNothing().when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>).deleteById(1L);</highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>执行</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a99522273f9ecb391afa369f6aa28b83e" kindref="member">qualificationService</ref>.<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImpl_1afaec8c54f7b48ad20c6ae772242c86d6" kindref="member">deleteQualification</ref>(1L);</highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>验证</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>verify(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>,<sp/>times(1)).deleteById(1L);</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="217"><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/>@Test</highlight></codeline>
<codeline lineno="219" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1aff3f057155f27882bc48031c0091c0f9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1aff3f057155f27882bc48031c0091c0f9" kindref="member">testGetQualificationsByEmployee_Success</ref>()<sp/>{</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>准备</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>List&lt;Qualification&gt;<sp/>qualifications<sp/>=<sp/>Collections.singletonList(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a92c4ab4e2a70ba08b45b3a63008e0889" kindref="member">qualification</ref>);</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>.findByEmployeeIdAndDeletedFalse(1L)).thenReturn(qualifications);</highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>执行</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>List&lt;QualificationDTO&gt;<sp/>result<sp/>=<sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a99522273f9ecb391afa369f6aa28b83e" kindref="member">qualificationService</ref>.<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImpl_1aa63d25ee8afb4162a755a97e0f58cb05" kindref="member">getQualificationsByEmployee</ref>(1L);</highlight></codeline>
<codeline lineno="226"><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>验证</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertNotNull(result);</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertEquals(1,<sp/>result.size());</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertEquals(1L,<sp/>result.get(0).getEmployeeId());</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/>@Test</highlight></codeline>
<codeline lineno="234" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a9eef2069d420a75eb221e4507704bb86" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a9eef2069d420a75eb221e4507704bb86" kindref="member">testGetQualificationsByType_Success</ref>()<sp/>{</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>准备</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>List&lt;Qualification&gt;<sp/>qualifications<sp/>=<sp/>Collections.singletonList(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a92c4ab4e2a70ba08b45b3a63008e0889" kindref="member">qualification</ref>);</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>.findByQualificationTypeIdAndDeletedFalse(1L)).thenReturn(qualifications);</highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>执行</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>List&lt;QualificationDTO&gt;<sp/>result<sp/>=<sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a99522273f9ecb391afa369f6aa28b83e" kindref="member">qualificationService</ref>.<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImpl_1a3a6b8817c24dde8b9bb7ff336dce2e60" kindref="member">getQualificationsByType</ref>(1L);</highlight></codeline>
<codeline lineno="241"><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>验证</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertNotNull(result);</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertEquals(1,<sp/>result.size());</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertEquals(1L,<sp/>result.get(0).getQualificationTypeId());</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="247"><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/>@Test</highlight></codeline>
<codeline lineno="249" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1aad992f1d21c99f2706a9abc476fb66cb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1aad992f1d21c99f2706a9abc476fb66cb" kindref="member">testGetExpiringQualifications_Success</ref>()<sp/>{</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>准备</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>LocalDate<sp/>futureDate<sp/>=<sp/>LocalDate.now().plusDays(30);</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>List&lt;Qualification&gt;<sp/>qualifications<sp/>=<sp/>Collections.singletonList(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a92c4ab4e2a70ba08b45b3a63008e0889" kindref="member">qualification</ref>);</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>.findExpiringQualifications(futureDate)).thenReturn(qualifications);</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>执行</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>List&lt;QualificationDTO&gt;<sp/>result<sp/>=<sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a99522273f9ecb391afa369f6aa28b83e" kindref="member">qualificationService</ref>.<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImpl_1afc2d020f6e4770ede78f233b76273354" kindref="member">getExpiringQualifications</ref>(30);</highlight></codeline>
<codeline lineno="257"><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>验证</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertNotNull(result);</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertEquals(1,<sp/>result.size());</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/>@Test</highlight></codeline>
<codeline lineno="264" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a2bf2738ce82b1a52f5b6546569184f40" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a2bf2738ce82b1a52f5b6546569184f40" kindref="member">testGetExpiredQualifications_Success</ref>()<sp/>{</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>准备</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>List&lt;Qualification&gt;<sp/>qualifications<sp/>=<sp/>Collections.singletonList(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a92c4ab4e2a70ba08b45b3a63008e0889" kindref="member">qualification</ref>);</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>由于没有直接的findByExpiryDateBefore方法，我们使用findAll来模拟</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>.findAll()).thenReturn(qualifications);</highlight></codeline>
<codeline lineno="269"><highlight class="normal"></highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>执行</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>List&lt;QualificationDTO&gt;<sp/>result<sp/>=<sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a99522273f9ecb391afa369f6aa28b83e" kindref="member">qualificationService</ref>.<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImpl_1af3977757846359f3bf3d90f1f0733372" kindref="member">getExpiredQualifications</ref>();</highlight></codeline>
<codeline lineno="272"><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>验证</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertNotNull(result);</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertEquals(1,<sp/>result.size());</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/>@Test</highlight></codeline>
<codeline lineno="279" refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a02510f124b6a72a4770eb3dacdfb7e30" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a02510f124b6a72a4770eb3dacdfb7e30" kindref="member">testGetAllQualifications_Success</ref>()<sp/>{</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>准备</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>List&lt;Qualification&gt;<sp/>qualifications<sp/>=<sp/>Collections.singletonList(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a92c4ab4e2a70ba08b45b3a63008e0889" kindref="member">qualification</ref>);</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>when(<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1acacc5d124494e4bfee8b511543da16a4" kindref="member">qualificationRepository</ref>.findAll()).thenReturn(qualifications);</highlight></codeline>
<codeline lineno="283"><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>执行</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>List&lt;QualificationDTO&gt;<sp/>result<sp/>=<sp/><ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImplTest_1a99522273f9ecb391afa369f6aa28b83e" kindref="member">qualificationService</ref>.<ref refid="classcom_1_1gmp_1_1hr_1_1service_1_1impl_1_1QualificationServiceImpl_1ad0408f3a585d5cff0bbff972ba84d4ec" kindref="member">getAllQualifications</ref>();</highlight></codeline>
<codeline lineno="286"><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>验证</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertNotNull(result);</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assertEquals(1,<sp/>result.size());</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="291"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="hr-service/src/test/java/com/gmp/hr/service/impl/QualificationServiceImplTest.java"/>
  </compounddef>
</doxygen>

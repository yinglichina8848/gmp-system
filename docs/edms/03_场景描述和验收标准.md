# EDMS 文档管理系统 - 场景描述和验收标准

## 文档信息
- **文档名称**: EDMS 场景描述和验收标准
- **版本**: V1.0
- **创建日期**: [当前日期]
- **更新日期**: [更新日期]
- **作者**: [作者姓名]
- **审核人**: [审核人姓名]

## 目录
- [文档信息](#文档信息)
- [概述](#概述)
  - [文档目的](#文档目的)
  - [术语定义](#术语定义)
- [业务场景描述](#业务场景描述)
  - [场景1: 文档创建与提交流程](#场景1-文档创建与提交流程)
  - [场景2: 文档审核与审批流程](#场景2-文档审核与审批流程)
  - [场景3: 文档发布与分发流程](#场景3-文档发布与分发流程)
  - [场景4: 文档变更管理流程](#场景4-文档变更管理流程)
  - [场景5: 文档查询与检索](#场景5-文档查询与检索)
- [功能场景描述](#功能场景描述)
  - [功能场景1: 文档元数据管理](#功能场景1-文档元数据管理)
  - [功能场景2: 文档版本控制](#功能场景2-文档版本控制)
  - [功能场景3: 文档权限管理](#功能场景3-文档权限管理)
  - [功能场景4: 文档生命周期管理](#功能场景4-文档生命周期管理)
  - [功能场景5: 文档审计追踪](#功能场景5-文档审计追踪)
- [验收标准](#验收标准)
  - [业务场景验收标准](#业务场景验收标准)
  - [功能场景验收标准](#功能场景验收标准)
- [测试用例映射](#测试用例映射)
- [附录](#附录)
  - [相关文档](#相关文档)
  - [术语表](#术语表)
  - [联系方式](#联系方式)

## 概述

### 文档目的
本文档详细描述了EDMS文档管理系统的业务场景和功能场景，并为每个场景提供了明确的验收标准，以确保系统能够满足GMP环境下的文档管理需求。

### 术语定义
- **EDMS**: 企业文档管理系统(Enterprise Document Management System)
- **GMP**: 药品生产质量管理规范(Good Manufacturing Practice)
- **SOP**: 标准操作规程(Standard Operating Procedure)
- **受控文档**: 需要严格管理版本、审批和分发的正式文档
- **生命周期**: 文档从创建到归档/销毁的全过程
- **元数据**: 描述文档属性的数据，如标题、创建者、版本等

## 业务场景描述

### 场景1: 文档创建与提交流程
- **场景描述**: 文档创建者根据模板或从空白文档开始创建受控文档，填写必要的元数据，并提交至审核流程。
- **参与角色**: 文档创建者、部门主管
- **前置条件**: 创建者具有文档创建权限，系统中存在相关文档模板
- **关键流程步骤**:
  1. 文档创建者登录EDMS系统
  2. 选择创建新文档或使用模板
  3. 填写文档内容和元数据
  4. 保存文档草稿
  5. 提交文档进行部门内审核
- **期望结果**: 文档成功提交至审核流程，状态更新为"待审核"
- **业务价值**: 确保文档创建过程符合规范，元数据完整

### 场景2: 文档审核与审批流程
- **场景描述**: 文档审核者和审批者对提交的文档进行审核和最终审批，确保文档内容符合要求。
- **参与角色**: 审核员、审批人、文档创建者
- **前置条件**: 文档已提交至审核流程，审核者和审批者具有相应权限
- **关键流程步骤**:
  1. 审核员接收文档审核任务
  2. 审核文档内容和格式
  3. 提出审核意见(通过/拒绝/修改)
  4. 如审核通过，提交至审批人
  5. 审批人进行最终审批
  6. 如审批通过，文档进入发布准备阶段
- **期望结果**: 文档通过多级审核和最终审批，状态更新为"待发布"
- **业务价值**: 确保文档内容的准确性、合规性和完整性

### 场景3: 文档发布与分发流程
- **场景描述**: 已审批通过的文档进行正式发布，并分发给相关的组织和人员。
- **参与角色**: 文档管理员、系统管理员、最终用户
- **前置条件**: 文档已获得最终审批
- **关键流程步骤**:
  1. 文档管理员确认发布准备就绪
  2. 设置文档发布日期和生效日期
  3. 配置文档的访问权限和分发范围
  4. 执行文档发布操作
  5. 系统自动向相关人员发送文档发布通知
- **期望结果**: 文档成功发布，相关人员可以访问文档，状态更新为"已发布"
- **业务价值**: 确保文档及时、准确地分发给需要的人员，提高信息流通效率

### 场景4: 文档变更管理流程
- **场景描述**: 当已发布的文档需要更新或修改时，通过正式的变更流程进行管理。
- **参与角色**: 变更申请人、审核员、审批人、文档管理员
- **前置条件**: 文档处于"已发布"状态，申请人具有变更申请权限
- **关键流程步骤**:
  1. 变更申请人提交文档变更申请
  2. 部门主管审核变更申请
  3. 文档原作者或指定人员执行文档修改
  4. 修改后的文档进入审核和审批流程
  5. 审批通过后，新版本文档发布
  6. 旧版本文档自动归档
- **期望结果**: 文档变更通过规范流程完成，新版本成功发布，版本历史完整可追溯
- **业务价值**: 确保文档变更的受控性和可追溯性，维护文档的准确性和时效性

### 场景5: 文档查询与检索
- **场景描述**: 用户根据不同条件查询和检索系统中的文档。
- **参与角色**: 所有授权用户
- **前置条件**: 用户具有查询权限，系统中存在文档数据
- **关键流程步骤**:
  1. 用户登录EDMS系统
  2. 进入文档查询界面
  3. 设置查询条件(如文档名称、类型、状态、创建者等)
  4. 执行查询操作
  5. 浏览查询结果
  6. 点击文档查看详情或下载
- **期望结果**: 用户能够快速准确地找到所需文档，并能够查看或下载
- **业务价值**: 提高文档查找效率，确保用户能够及时获取所需信息

## 功能场景描述

### 功能场景1: 文档元数据管理
- **功能描述**: 系统支持文档元数据的定义、编辑、查看和管理，包括自定义元数据字段。
- **参与角色**: 文档创建者、文档管理员、系统管理员
- **功能步骤**:
  1. 系统管理员定义文档类型和对应的元数据字段
  2. 文档创建者在创建文档时填写元数据
  3. 文档管理员可以修改和维护文档的元数据
  4. 用户可以基于元数据进行文档查询和分类
- **期望结果**: 所有文档都具有完整准确的元数据，支持灵活的元数据查询和管理
- **业务规则**:
  - 关键元数据字段为必填项
  - 元数据修改需要记录变更历史
  - 元数据应符合GMP文档管理要求

### 功能场景2: 文档版本控制
- **功能描述**: 系统自动管理文档的版本，支持版本比较、版本恢复和版本历史查看。
- **参与角色**: 文档创建者、审核员、审批人、文档管理员
- **功能步骤**:
  1. 文档首次创建时版本为V0.1或草稿版
  2. 每次修改保存时版本号自动递增
  3. 正式发布后版本号为V1.0，后续变更版本号依次递增
  4. 用户可以查看文档的完整版本历史
  5. 用户可以比较不同版本之间的差异
- **期望结果**: 文档版本变更被准确记录，支持版本追溯和比较
- **业务规则**:
  - 文档版本号遵循标准命名规范
  - 已发布的文档版本不可直接修改
  - 版本历史应包含修改者、修改时间和修改原因

### 功能场景3: 文档权限管理
- **功能描述**: 系统提供细粒度的文档权限控制，支持基于角色、部门和文档类型的权限配置。
- **参与角色**: 系统管理员、文档管理员
- **功能步骤**:
  1. 系统管理员定义用户角色和权限
  2. 文档管理员为特定文档或文档集配置访问权限
  3. 用户根据分配的权限访问和操作文档
  4. 系统记录所有权限相关的操作日志
- **期望结果**: 用户只能访问和操作其权限范围内的文档
- **业务规则**:
  - 权限分配应遵循最小权限原则
  - 权限变更需要记录在审计日志中
  - 系统应支持权限继承和覆盖机制

### 功能场景4: 文档生命周期管理
- **功能描述**: 系统管理文档从创建到归档/销毁的完整生命周期，支持不同阶段的状态转换。
- **参与角色**: 文档创建者、审核员、审批人、文档管理员、系统管理员
- **功能步骤**:
  1. 文档创建时状态为"草稿"
  2. 提交审核后状态变为"待审核"
  3. 审核通过后状态变为"待审批"
  4. 审批通过后状态变为"待发布"
  5. 发布后状态变为"已发布"
  6. 文档过期或需要归档时状态变为"已归档"
  7. 最终销毁时状态变为"已销毁"
- **期望结果**: 文档状态准确反映其生命周期阶段，状态转换遵循预定义的业务规则
- **业务规则**:
  - 文档状态转换需要特定权限
  - 重要状态转换应触发通知
  - 系统应自动监控文档有效期并发出提醒

### 功能场景5: 文档审计追踪
- **功能描述**: 系统记录文档相关的所有操作，提供完整的审计追踪能力。
- **参与角色**: 审计人员、系统管理员
- **功能步骤**:
  1. 系统自动记录用户对文档的所有操作
  2. 审计日志包含操作人、操作时间、操作类型、操作对象等信息
  3. 审计人员可以查询和分析审计日志
  4. 系统支持审计日志的导出和报告生成
- **期望结果**: 所有文档操作都有完整记录，可追溯性强
- **业务规则**:
  - 审计日志不可篡改
  - 审计日志应保存足够长的时间(符合监管要求)
  - 系统应支持高级审计查询和过滤功能

## 验收标准

### 业务场景验收标准

| 场景编号 | 场景名称 | 验收标准 | 测试方法 | 优先级 |
|---------|---------|---------|----------|-------|
| S-001 | 文档创建与提交流程 | 1. 用户能够使用模板或空白文档创建新文档<br>2. 系统强制要求填写必要的元数据<br>3. 文档草稿可保存并后续编辑<br>4. 文档成功提交后状态自动更新为"待审核"<br>5. 相关审核人员收到通知 | 功能测试<br>流程测试 | 高 |
| S-002 | 文档审核与审批流程 | 1. 审核人员能够查看待审核文档列表<br>2. 系统支持多级审核和审批配置<br>3. 审核人员可添加审核意见并做出决策<br>4. 文档可在审核过程中被退回修改<br>5. 审批通过后文档状态更新为"待发布" | 功能测试<br>流程测试<br>权限测试 | 高 |
| S-003 | 文档发布与分发流程 | 1. 管理员可设置文档发布和生效日期<br>2. 系统支持文档访问权限配置<br>3. 文档发布后相关人员可立即访问<br>4. 系统自动发送文档发布通知<br>5. 发布的文档有明确的版本标识 | 功能测试<br>通知测试 | 高 |
| S-004 | 文档变更管理流程 | 1. 用户可提交文档变更申请<br>2. 变更申请需经过审核批准<br>3. 变更后的文档需重新审核和审批<br>4. 系统保留完整的版本历史<br>5. 新版本发布后旧版本自动归档 | 功能测试<br>版本测试 | 高 |
| S-005 | 文档查询与检索 | 1. 支持多条件组合查询<br>2. 支持全文检索功能<br>3. 查询结果支持排序和筛选<br>4. 查询响应时间不超过3秒<br>5. 可快速预览查询结果 | 功能测试<br>性能测试 | 高 |

### 功能场景验收标准

| 功能编号 | 功能名称 | 验收标准 | 测试方法 | 优先级 |
|---------|---------|---------|----------|-------|
| F-001 | 文档元数据管理 | 1. 支持自定义元数据字段<br>2. 元数据变更自动记录<br>3. 可基于元数据进行精确查询<br>4. 元数据支持多种数据类型<br>5. 元数据符合GMP文档管理要求 | 功能测试<br>合规性测试 | 高 |
| F-002 | 文档版本控制 | 1. 版本号自动递增，命名规范<br>2. 支持任意版本的查看和下载<br>3. 支持两个版本间的内容比较<br>4. 可恢复到任意历史版本<br>5. 版本历史包含完整的修改信息 | 功能测试<br>版本测试 | 高 |
| F-003 | 文档权限管理 | 1. 支持基于角色和用户组的权限配置<br>2. 支持文档级别的细粒度权限控制<br>3. 权限变更有审计记录<br>4. 权限验证准确无误<br>5. 支持权限继承和例外处理 | 功能测试<br>权限测试 | 高 |
| F-004 | 文档生命周期管理 | 1. 支持配置文档状态流转规则<br>2. 状态变更符合业务流程要求<br>3. 系统自动提醒文档到期<br>4. 支持批量状态更新<br>5. 生命周期各阶段有对应的权限控制 | 功能测试<br>流程测试 | 高 |
| F-005 | 文档审计追踪 | 1. 记录所有文档相关操作<br>2. 审计日志包含完整操作信息<br>3. 支持高级审计日志查询<br>4. 审计日志不可篡改<br>5. 支持审计报告生成和导出 | 功能测试<br>安全测试 | 高 |

## 测试用例映射

| 场景/功能编号 | 场景/功能名称 | 对应测试用例ID | 测试用例描述 | 测试责任人 |
|-------------|--------------|--------------|-------------|----------|
| S-001 | 文档创建与提交流程 | TC-EDMS-001 | 测试文档创建和提交流程的完整性 | [测试人员] |
| S-002 | 文档审核与审批流程 | TC-EDMS-002 | 测试文档多级审核和审批功能 | [测试人员] |
| S-003 | 文档发布与分发流程 | TC-EDMS-003 | 测试文档发布和通知分发功能 | [测试人员] |
| S-004 | 文档变更管理流程 | TC-EDMS-004 | 测试文档版本变更控制功能 | [测试人员] |
| S-005 | 文档查询与检索 | TC-EDMS-005 | 测试文档查询和检索性能 | [测试人员] |
| F-001 | 文档元数据管理 | TC-EDMS-006 | 测试元数据定义和管理功能 | [测试人员] |
| F-002 | 文档版本控制 | TC-EDMS-007 | 测试文档版本比较和恢复功能 | [测试人员] |
| F-003 | 文档权限管理 | TC-EDMS-008 | 测试不同角色的文档访问权限 | [测试人员] |
| F-004 | 文档生命周期管理 | TC-EDMS-009 | 测试文档状态流转和提醒功能 | [测试人员] |
| F-005 | 文档审计追踪 | TC-EDMS-010 | 测试审计日志记录和查询功能 | [测试人员] |

## 附录

### 相关文档
- [EDMS总体需求文档](总体需求.md)
- [EDMS架构设计文档](架构设计.md)
- [EDMS详细需求文档](详细需求.md)
- [EDMS用例与用户故事](用例与用户故事.md)

### 术语表
| 术语 | 解释 |
|------|------|
| EDMS | 企业文档管理系统，用于集中管理企业各类文档的系统 |
| GMP | 药品生产质量管理规范，确保药品质量的一系列标准和规范 |
| SOP | 标准操作规程，描述如何执行特定任务的书面指南 |
| 受控文档 | 需要严格控制版本、分发和使用的正式文档 |
| 生命周期 | 文档从创建、审核、发布、使用到归档/销毁的全过程 |
| 元数据 | 描述文档属性的数据，如标题、作者、版本号等 |
| 审计追踪 | 记录和跟踪系统活动的过程，确保可追溯性 |
| 版本控制 | 管理文档变更的过程，确保每次变更都有记录 |

### 联系方式
- **产品负责人**: [姓名] - [联系方式]
- **业务分析师**: [姓名] - [联系方式]
- **开发负责人**: [姓名] - [联系方式]
- **测试负责人**: [姓名] - [联系方式]

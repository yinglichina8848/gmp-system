# 用例与用户故事

## 1. 概述

本文档描述EDMS（电子文档管理系统）的用户用例和用户故事，旨在从用户角度明确系统的功能需求和使用场景。用例图和用户故事相结合的方式，既展示了系统的功能结构，又从用户体验的角度描述了功能的价值和期望。

## 2. 主要角色

### 2.1 系统角色

| 角色名称 | 角色描述 | 主要职责 |
|---------|---------|--------|
| 文档创建者 | 负责创建和上传原始文档的用户 | 创建新文档、上传文档文件、填写文档属性 |
| 文档审核者 | 负责审核文档内容和格式的用户 | 审核文档、添加审核意见、进行电子签名 |
| 文档管理者 | 系统文档管理员，具有较高权限 | 管理文档分类、配置文档模板、监控文档状态 |
| 普通用户 | 系统的一般使用者 | 查看文档、搜索文档、申请文档访问权限 |
| 系统管理员 | 负责系统配置和维护的人员 | 系统参数配置、用户权限管理、系统监控 |

## 3. 用例概览

EDMS系统的核心用例包括以下几个方面：

1. **文档管理用例**：文档的全生命周期管理
2. **版本控制用例**：文档版本的创建、比较和管理
3. **工作流审批用例**：文档的创建、发布、变更等审批流程
4. **权限管理用例**：用户对文档的访问和操作权限管理
5. **检索与查询用例**：文档的全文检索和高级查询
6. **系统管理用例**：系统配置和用户管理

## 4. 详细用例描述

### 4.1 文档管理用例

#### 4.1.1 创建新文档

**用例ID**：EDMS-UC-DOC-001
**用例名称**：创建新文档
**参与者**：文档创建者
**前置条件**：
- 参与者已登录系统
- 参与者具有创建文档的权限

**基本流程**：
1. 参与者选择"创建新文档"功能
2. 系统显示文档创建表单
3. 参与者选择文档类型和模板
4. 参与者填写文档基本信息（标题、描述、分类等）
5. 参与者上传文档文件
6. 参与者点击"提交"按钮
7. 系统验证文档信息和文件
8. 系统创建文档记录并存储文件
9. 系统提示创建成功并自动启动文档审批流程

**扩展流程**：
- 如果文档信息不完整或无效，系统提示错误并要求补充
- 如果文件格式不支持，系统提示错误并要求上传兼容格式

**后置条件**：文档被成功创建并进入审批流程

#### 4.1.2 查看文档

**用例ID**：EDMS-UC-DOC-002
**用例名称**：查看文档
**参与者**：普通用户、文档创建者、文档审核者
**前置条件**：
- 参与者已登录系统
- 参与者具有查看该文档的权限

**基本流程**：
1. 参与者通过搜索或浏览找到目标文档
2. 参与者点击文档标题或查看按钮
3. 系统检查参与者权限
4. 系统显示文档详情页面
5. 系统加载并显示文档内容

**扩展流程**：
- 如果参与者没有权限，系统提示权限不足
- 如果文档已归档或删除，系统提示文档状态

**后置条件**：参与者成功查看文档内容

#### 4.1.3 搜索文档

**用例ID**：EDMS-UC-DOC-003
**用例名称**：搜索文档
**参与者**：所有角色
**前置条件**：参与者已登录系统

**基本流程**：
1. 参与者在搜索框输入关键词
2. 参与者点击搜索按钮或按回车键
3. 系统执行搜索操作
4. 系统显示搜索结果列表
5. 参与者可以进一步筛选或排序结果

**扩展流程**：
- 参与者可以使用高级搜索功能，设置多个搜索条件
- 参与者可以保存常用搜索条件

**后置条件**：参与者获得符合条件的文档列表

### 4.2 版本控制用例

#### 4.2.1 创建新版本

**用例ID**：EDMS-UC-VC-001
**用例名称**：创建新版本
**参与者**：文档创建者、文档管理者
**前置条件**：
- 参与者已登录系统
- 参与者具有文档版本管理权限
- 文档已处于已发布状态

**基本流程**：
1. 参与者在文档详情页选择"创建新版本"
2. 系统提示确认并要求填写版本变更说明
3. 参与者填写变更说明并上传新的文档文件
4. 参与者点击"提交"按钮
5. 系统创建新版本并存储文件
6. 系统自动启动版本审批流程

**扩展流程**：
- 参与者可以选择复制当前版本内容作为新版本基础
- 如果新版本与当前版本内容相同，系统提示警告

**后置条件**：文档新版本被创建并进入审批流程

#### 4.2.2 比较版本

**用例ID**：EDMS-UC-VC-002
**用例名称**：比较版本
**参与者**：文档创建者、文档审核者
**前置条件**：
- 参与者已登录系统
- 参与者具有查看文档历史版本的权限
- 文档存在多个版本

**基本流程**：
1. 参与者在文档版本列表中选择两个版本
2. 参与者点击"比较"按钮
3. 系统显示两个版本的差异对比
4. 参与者可以查看详细的内容差异

**扩展流程**：
- 系统支持文本格式和PDF格式的差异对比
- 参与者可以导出比较结果

**后置条件**：参与者成功查看文档版本差异

### 4.3 工作流审批用例

#### 4.3.1 提交文档审批

**用例ID**：EDMS-UC-WF-001
**用例名称**：提交文档审批
**参与者**：文档创建者
**前置条件**：
- 参与者已登录系统
- 参与者具有提交文档审批的权限
- 文档已完成编辑且处于草稿状态

**基本流程**：
1. 参与者在文档编辑完成后选择"提交审批"
2. 系统显示审批流程选择页面
3. 参与者选择适当的审批流程
4. 参与者点击"确认提交"按钮
5. 系统启动审批流程并通知第一级审核者
6. 系统提示提交成功

**扩展流程**：
- 参与者可以在提交前预览审批流程
- 参与者可以指定特定的审核者（如果流程允许）

**后置条件**：文档进入审批流程，状态更新为"待审核"

#### 4.3.2 审核文档

**用例ID**：EDMS-UC-WF-002
**用例名称**：审核文档
**参与者**：文档审核者
**前置条件**：
- 参与者已登录系统
- 参与者有待审核的文档任务

**基本流程**：
1. 参与者在任务列表中查看待审核文档
2. 参与者点击审核任务查看文档详情
3. 参与者阅读文档内容和相关信息
4. 参与者选择审核结果（通过、退回、重做）
5. 参与者添加审核意见
6. 参与者进行电子签名
7. 参与者点击"提交审核结果"
8. 系统记录审核结果并更新文档状态
9. 系统根据审核结果决定下一步操作

**扩展流程**：
- 如果审核退回，系统提示创建者修改并重新提交
- 如果审核通过，系统自动将文档传递给下一审核者或完成流程

**后置条件**：审核结果被记录，文档状态更新，流程继续执行

### 4.4 权限管理用例

#### 4.4.1 申请文档访问权限

**用例ID**：EDMS-UC-PERM-001
**用例名称**：申请文档访问权限
**参与者**：普通用户
**前置条件**：
- 参与者已登录系统
- 参与者发现没有某文档的访问权限

**基本流程**：
1. 参与者在文档列表或搜索结果中发现无法访问的文档
2. 参与者点击"申请权限"按钮
3. 系统显示权限申请表单
4. 参与者选择需要的权限类型和申请理由
5. 参与者点击"提交申请"
6. 系统发送权限申请给文档所有者或管理员
7. 系统提示申请已提交

**扩展流程**：
- 参与者可以查看申请历史和状态
- 参与者可以取消未处理的申请

**后置条件**：权限申请被记录并通知相关审批人

#### 4.4.2 审批权限申请

**用例ID**：EDMS-UC-PERM-002
**用例名称**：审批权限申请
**参与者**：文档所有者、系统管理员
**前置条件**：
- 参与者已登录系统
- 参与者有待审批的权限申请

**基本流程**：
1. 参与者在权限管理页面查看待审批申请
2. 参与者点击申请查看详情
3. 参与者审核申请理由和所需权限
4. 参与者选择批准或拒绝
5. 参与者添加审批意见
6. 参与者点击"提交审批结果"
7. 系统记录审批结果并更新用户权限
8. 系统通知申请人审批结果

**扩展流程**：
- 参与者可以设置权限有效期
- 参与者可以设置权限使用范围

**后置条件**：权限申请处理完成，权限设置更新

## 5. 用户故事

### 5.1 文档管理相关用户故事

**用户故事1**：作为研发工程师，我希望能够方便地创建和上传技术文档，以便记录和分享我的研发成果。

**用户故事2**：作为质量管理员，我希望能够快速检索到我需要的质量文档，以便进行质量审核和合规检查。

**用户故事3**：作为文档管理员，我希望能够批量导入历史文档，以便将现有文档库迁移到新系统中。

### 5.2 版本控制相关用户故事

**用户故事4**：作为技术主管，我希望系统能够自动管理文档的版本历史，以便追踪文档的演变过程和变更内容。

**用户故事5**：作为合规专员，我希望能够比较不同版本的文档差异，以便审核变更的合规性。

**用户故事6**：作为项目经理，我希望能够回滚到文档的历史版本，以便在出现问题时恢复到稳定状态。

### 5.3 工作流审批相关用户故事

**用户故事7**：作为文档创建者，我希望提交文档后系统能够自动通知审核人进行审核，以便提高文档审批的效率。

**用户故事8**：作为部门经理，我希望能够在移动设备上审批文档，以便在外出时也能及时处理工作。

**用户故事9**：作为质量总监，我希望能够查看文档的审批历史和意见，以便了解文档的合规性审核过程。

### 5.4 权限管理相关用户故事

**用户故事10**：作为普通员工，我希望能够申请临时访问特定文档的权限，以便完成临时任务而不影响信息安全。

**用户故事11**：作为系统管理员，我希望能够基于角色批量设置用户权限，以便高效地管理大量用户的权限。

**用户故事12**：作为安全官，我希望能够审计用户的文档访问记录，以便确保信息安全合规。

### 5.5 系统管理相关用户故事

**用户故事13**：作为系统管理员，我希望能够监控系统性能和资源使用情况，以便及时发现和解决问题。

**用户故事14**：作为IT运维人员，我希望系统提供数据备份和恢复功能，以便在发生故障时能够快速恢复业务。

**用户故事15**：作为开发人员，我希望系统提供API接口，以便与其他系统进行集成。

## 6. 用例优先级

| 用例ID | 用例名称 | 优先级 | 理由 |
|-------|---------|-------|------|
| EDMS-UC-DOC-001 | 创建新文档 | 高 | 文档管理的基础功能，所有文档生命周期的起点 |
| EDMS-UC-DOC-002 | 查看文档 | 高 | 文档管理的基础功能，所有用户的核心需求 |
| EDMS-UC-DOC-003 | 搜索文档 | 高 | 高效文档利用的关键功能，特别是对大量文档的管理 |
| EDMS-UC-VC-001 | 创建新版本 | 高 | 文档版本控制的核心功能，确保文档变更的可追溯性 |
| EDMS-UC-WF-001 | 提交文档审批 | 高 | 工作流功能的入口，确保文档质量和合规性 |
| EDMS-UC-WF-002 | 审核文档 | 高 | 工作流功能的核心，确保文档审核流程的执行 |
| EDMS-UC-VC-002 | 比较版本 | 中 | 版本管理的重要辅助功能，帮助用户理解文档变更 |
| EDMS-UC-PERM-001 | 申请文档访问权限 | 中 | 权限管理的用户端功能，提升用户体验 |
| EDMS-UC-PERM-002 | 审批权限申请 | 中 | 权限管理的管理端功能，确保安全控制 |

## 7. 总结

本文档通过用例和用户故事相结合的方式，从功能和用户体验两个维度详细描述了EDMS系统的需求。这些用例和用户故事将作为系统设计、开发和测试的重要依据，确保系统能够满足用户的实际需求。随着系统的发展和用户反馈的收集，这些用例和用户故事可能需要进一步调整和完善。

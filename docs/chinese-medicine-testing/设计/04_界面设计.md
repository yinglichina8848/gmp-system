# 中药材检验子系统 - 界面设计文档

## 文档信息
- **文档版本**: v1.0
- **创建日期**: 2024-01-15
- **最后更新**: 2024-01-15
- **作者**: 系统设计团队
- **审核人**: UX设计师、开发团队负责人、质量保证经理

## 1. 概述

### 1.1 文档目的

本文档详细描述中药材检验子系统的用户界面设计，包括界面布局、交互流程、界面元素设计等内容。旨在为前端开发人员提供明确的界面实现指南，确保系统界面符合用户体验要求和GMP规范。

### 1.2 术语定义

| 术语 | 解释 |
|-----|------|
| GMP | 药品生产质量管理规范(Good Manufacturing Practice)，是确保药品质量和安全的法规要求 |
| RBAC | 基于角色的访问控制(Role-Based Access Control)，一种根据用户角色控制系统资源访问权限的方法 |
| UI | 用户界面(User Interface)，用户与系统交互的接口 |
| UX | 用户体验(User Experience)，用户在使用系统过程中的感受和体验 |
| 检验计划 | 用于定义对样品进行检验的具体方案，包括检验项目、检验方法等 |
| 检验任务 | 根据检验计划生成的具体工作任务，分配给检验员执行 |
| 检验报告 | 记录检验结果和判定结论的正式文档 |

## 2. 界面设计原则

### 2.1 设计理念

- **简洁直观**：界面设计简洁明了，减少用户学习成本，提高操作效率
- **一致性**：保持界面元素、交互方式和视觉风格的一致性
- **可访问性**：确保不同角色的用户能够方便地访问其权限范围内的功能
- **合规性**：界面设计符合GMP规范要求，支持电子记录和电子签名
- **响应式**：适配不同尺寸的屏幕和设备，提供良好的移动端体验

### 2.2 色彩规范

#### 2.2.1 主色调

- **主色**：#1976D2 (深蓝)，代表专业和可靠性，用于主要操作按钮、导航栏等
- **辅助色**：#4CAF50 (绿色)，表示成功和通过，#F44336 (红色)，表示错误和失败，#FF9800 (橙色)，表示警告
- **中性色**：#F5F5F5 (浅灰)，#E0E0E0 (中灰)，#757575 (深灰)，#212121 (黑色)

#### 2.2.2 功能色彩

| 色彩 | 用途 | 色值 |
|-----|------|------|
| 成功色 | 检验合格、操作成功等 | #4CAF50 |
| 错误色 | 检验不合格、操作失败等 | #F44336 |
| 警告色 | 待处理、需要注意等 | #FF9800 |
| 信息色 | 提示信息、说明等 | #2196F3 |
| 禁用色 | 禁用状态的元素 | #BDBDBD |

### 2.3 排版规范

- **标题**：使用无衬线字体，字号18-24px，字重600-700，行高1.3
- **正文**：使用无衬线字体，字号14-16px，字重400，行高1.5
- **表格文本**：使用无衬线字体，字号12-14px，字重400，行高1.4
- **按钮文本**：使用无衬线字体，字号14px，字重500，行高1.4
- **提示文本**：使用无衬线字体，字号12px，字重400，行高1.4

## 3. 整体布局设计

### 3.1 页面结构

中药材检验子系统采用经典的后台管理系统布局，包括：

- **顶部导航栏**：显示系统名称、用户信息、通知、快速操作等
- **左侧菜单栏**：提供系统功能模块导航
- **主内容区**：显示当前功能的具体内容，包括数据表格、表单、图表等
- **右侧面板**：根据需要显示辅助信息或快速操作（可选）
- **底部状态栏**：显示系统状态、版本信息等（可选）

### 3.2 响应式设计

系统支持多种屏幕尺寸，采用响应式布局：

- **桌面端** (≥ 1200px)：完整显示顶部导航栏、左侧菜单栏和主内容区，可选显示右侧面板
- **平板端** (768px - 1199px)：左侧菜单栏可折叠，主内容区自适应宽度，右侧面板在必要时隐藏
- **移动端** (< 768px)：左侧菜单栏转为抽屉式，顶部导航栏简化，主内容区单列显示

## 4. 功能模块界面设计

### 4.1 样品管理模块

#### 4.1.1 样品列表页

**布局结构**：
- 顶部操作栏：包括新增样品、导入样品、筛选条件、搜索框等
- 数据表格：显示样品列表，支持分页、排序、多选等
- 批量操作：支持批量删除、批量导出等功能

**界面元素**：
- 搜索框：支持按样品编号、样品名称、供应商等进行搜索
- 筛选条件：包括样品类型、接收日期、样品状态等
- 数据表格列：复选框、样品编号、样品名称、样品类型、批次号、供应商、接收日期、样品状态、操作
- 操作按钮：查看详情、编辑、删除、生成检验计划等

#### 4.1.2 样品详情页

**布局结构**：
- 顶部标题栏：显示样品编号和名称
- 基本信息区：展示样品的基本属性
- 相关信息区：包括检验历史、相关文档等
- 操作按钮：编辑、删除、生成检验计划等

**界面元素**：
- 表单控件：显示样品的各项属性值
- 标签页：用于组织不同类别的信息
- 表格：用于展示检验历史等数据

#### 4.1.3 新增/编辑样品表单

**布局结构**：
- 顶部标题栏：显示"新增样品"或"编辑样品"
- 表单区域：包含多个表单字段，按类别分组
- 底部操作栏：包含保存、取消等按钮

**界面元素**：
- 表单字段：文本输入框、下拉选择框、日期选择器、文件上传控件等
- 必填项标识：使用红色星号标识必填字段
- 表单验证提示：实时显示输入验证结果

### 4.2 检验计划管理模块

#### 4.2.1 检验计划列表页

**布局结构**：
- 顶部操作栏：包括新增计划、筛选条件、搜索框等
- 数据表格：显示检验计划列表，支持分页、排序等
- 批量操作：支持批量删除、批量导出等功能

**界面元素**：
- 搜索框：支持按计划编号、计划名称等进行搜索
- 筛选条件：包括计划状态、创建日期、相关样品等
- 数据表格列：复选框、计划编号、计划名称、样品信息、检验标准、计划状态、创建人、创建日期、操作
- 操作按钮：查看详情、编辑、删除、审批、生成任务等

#### 4.2.2 检验计划详情页

**布局结构**：
- 顶部标题栏：显示检验计划编号和名称
- 基本信息区：展示检验计划的基本属性
- 检验项目列表：显示计划包含的检验项目
- 相关操作：包括修改、审批、生成任务等

**界面元素**：
- 表单控件：显示检验计划的各项属性值
- 表格：用于展示检验项目列表
- 状态指示器：显示当前计划的状态
- 操作按钮：根据状态显示不同的操作选项

#### 4.2.3 新增/编辑检验计划表单

**布局结构**：
- 顶部标题栏：显示"新增检验计划"或"编辑检验计划"
- 表单区域：包含计划基本信息和检验项目配置
- 底部操作栏：包含保存、取消等按钮

**界面元素**：
- 表单字段：文本输入框、下拉选择框、日期选择器等
- 样品选择器：用于选择需要检验的样品
- 检验标准选择器：用于选择适用的检验标准
- 检验项目配置区域：可动态添加、删除检验项目

### 4.3 检验任务管理模块

#### 4.3.1 检验任务列表页

**布局结构**：
- 顶部操作栏：包括筛选条件、搜索框、批量操作等
- 数据表格：显示检验任务列表，支持分页、排序等
- 任务状态统计：使用图表或卡片显示不同状态的任务数量

**界面元素**：
- 搜索框：支持按任务编号、样品信息等进行搜索
- 筛选条件：包括任务状态、分配人、截止日期等
- 数据表格列：复选框、任务编号、样品信息、检验项目、分配人、任务状态、开始日期、截止日期、操作
- 操作按钮：查看详情、开始任务、完成任务、重新分配等

#### 4.3.2 检验任务详情页

**布局结构**：
- 顶部标题栏：显示检验任务编号和样品信息
- 基本信息区：展示任务的基本属性和状态
- 检验结果录入区：用于录入各项检验结果
- 相关操作：包括开始任务、提交结果、完成任务等

**界面元素**：
- 表单控件：显示任务的各项属性值
- 检验结果录入表格：按检验项目分类显示，支持录入数值、文本、上传图片等
- 状态指示器：显示当前任务的状态
- 操作按钮：根据状态显示不同的操作选项

### 4.4 检验报告管理模块

#### 4.4.1 检验报告列表页

**布局结构**：
- 顶部操作栏：包括生成报告、筛选条件、搜索框等
- 数据表格：显示检验报告列表，支持分页、排序等
- 批量操作：支持批量删除、批量导出等功能

**界面元素**：
- 搜索框：支持按报告编号、样品信息等进行搜索
- 筛选条件：包括报告状态、生成日期、检验员等
- 数据表格列：复选框、报告编号、样品信息、检验结论、报告状态、生成日期、生成人、操作
- 操作按钮：查看详情、审核、批准、驳回、导出PDF等

#### 4.4.2 检验报告详情页

**布局结构**：
- 顶部标题栏：显示检验报告编号和样品信息
- 报告基本信息区：展示报告的基本属性和检验结论
- 检验结果详情区：详细展示各项检验结果和判定
- 审核信息区：显示报告的审核和批准记录
- 相关操作：包括审核、批准、驳回等

**界面元素**：
- 表单控件：显示报告的各项属性值
- 检验结果表格：详细展示各检验项目的标准值、实测值和判定
- 图表：可视化展示部分检验结果
- 状态指示器：显示当前报告的状态
- 操作按钮：根据状态显示不同的操作选项
- 签名区域：支持电子签名

### 4.5 不合格品管理模块

#### 4.5.1 不合格品列表页

**布局结构**：
- 顶部操作栏：包括筛选条件、搜索框等
- 数据表格：显示不合格品列表，支持分页、排序等
- 批量操作：支持批量处理等功能

**界面元素**：
- 搜索框：支持按样品编号、不合格原因等进行搜索
- 筛选条件：包括处理状态、发现日期、不合格类型等
- 数据表格列：复选框、样品信息、不合格项目、不合格原因、处理状态、发现日期、操作
- 操作按钮：查看详情、评审、处理、验证等

#### 4.5.2 不合格品详情页

**布局结构**：
- 顶部标题栏：显示不合格品样品信息
- 基本信息区：展示不合格品的基本属性和不合格情况
- 处理流程记录：显示评审、处理、验证等流程记录
- 相关操作：包括评审、处理、验证等

**界面元素**：
- 表单控件：显示不合格品的各项属性值
- 处理流程时间轴：可视化展示处理过程
- 评论/讨论区：用于记录评审意见和处理建议
- 操作按钮：根据状态显示不同的操作选项
- 签名区域：支持电子签名

### 4.6 质量标准管理模块

#### 4.6.1 质量标准列表页

**布局结构**：
- 顶部操作栏：包括新增标准、筛选条件、搜索框等
- 数据表格：显示质量标准列表，支持分页、排序等
- 批量操作：支持批量删除、批量导出等功能

**界面元素**：
- 搜索框：支持按标准编号、标准名称等进行搜索
- 筛选条件：包括标准类型、生效状态、生效日期等
- 数据表格列：复选框、标准编号、标准名称、标准类型、参考标准、生效状态、生效日期、操作
- 操作按钮：查看详情、编辑、删除、启用/停用等

#### 4.6.2 质量标准详情页

**布局结构**：
- 顶部标题栏：显示质量标准编号和名称
- 基本信息区：展示质量标准的基本属性
- 检验项目列表：详细展示标准包含的检验项目及其要求
- 相关操作：包括修改、启用/停用等

**界面元素**：
- 表单控件：显示质量标准的各项属性值
- 检验项目表格：展示各检验项目的名称、方法、标准值等
- 版本信息：显示标准的版本历史
- 操作按钮：根据状态显示不同的操作选项

### 4.7 统计分析模块

#### 4.7.1 检验概览页

**布局结构**：
- 顶部统计卡片：显示关键指标，如检验总量、合格率、平均检验时长等
- 图表区域：包含多种图表，如趋势图、饼图等，展示检验数据的统计分析结果
- 最近活动列表：显示最近的检验相关活动

**界面元素**：
- 统计卡片：显示关键指标的数值和趋势
- 图表：使用柱状图、折线图、饼图等可视化展示数据
- 筛选器：用于选择统计时间范围、样品类型等
- 操作按钮：导出数据、查看详情等

#### 4.7.2 详细统计报表

**布局结构**：
- 顶部筛选器：选择统计维度、时间范围等
- 表格区域：显示详细的统计数据
- 图表区域：根据选择的维度展示相应的图表
- 导出功能：支持多种格式导出统计数据

**界面元素**：
- 筛选条件：包括时间范围、样品类型、检验项目等
- 数据表格：展示详细的统计数据
- 图表：可视化展示数据分布和趋势
- 导出按钮：支持导出Excel、PDF等格式

### 4.8 系统管理模块

#### 4.8.1 用户管理页

**布局结构**：
- 顶部操作栏：包括新增用户、筛选条件、搜索框等
- 数据表格：显示用户列表，支持分页、排序等
- 批量操作：支持批量删除、批量重置密码等功能

**界面元素**：
- 搜索框：支持按用户名、真实姓名等进行搜索
- 筛选条件：包括用户状态、角色、部门等
- 数据表格列：复选框、用户名、真实姓名、角色、部门、状态、创建日期、操作
- 操作按钮：查看详情、编辑、删除、重置密码等

#### 4.8.2 角色权限管理页

**布局结构**：
- 顶部操作栏：包括新增角色、搜索框等
- 数据表格：显示角色列表，支持分页、排序等
- 权限配置区域：用于配置各角色的权限

**界面元素**：
- 搜索框：支持按角色名称进行搜索
- 数据表格：显示角色列表
- 权限树：可视化展示权限结构，支持勾选配置
- 操作按钮：查看详情、编辑、删除等

## 5. 通用组件设计

### 5.1 表格组件

#### 5.1.1 基本表格

- **功能**：展示结构化数据
- **特性**：
  - 支持列排序、筛选
  - 支持列宽调整和列显示隐藏控制
  - 支持复选框多选和全选
  - 支持分页控制
  - 支持行操作按钮
  - 支持数据导出

#### 5.1.2 可编辑表格

- **功能**：支持直接在表格中编辑数据
- **特性**：
  - 支持单元格编辑、行编辑
  - 支持编辑状态管理
  - 支持数据验证
  - 支持批量保存

### 5.2 表单组件

#### 5.2.1 基本表单

- **功能**：收集和提交用户输入的数据
- **特性**：
  - 支持多种表单控件类型
  - 支持表单验证
  - 支持错误提示
  - 支持表单布局管理

#### 5.2.2 高级搜索表单

- **功能**：提供复杂的搜索条件配置
- **特性**：
  - 支持条件组合
  - 支持条件保存和加载
  - 支持动态添加/删除搜索条件

### 5.3 对话框组件

#### 5.3.1 确认对话框

- **功能**：用于确认重要操作
- **特性**：
  - 支持自定义标题和内容
  - 支持确认和取消按钮
  - 支持回调函数

#### 5.3.2 表单对话框

- **功能**：在对话框中显示表单
- **特性**：
  - 支持表单验证
  - 支持提交和取消操作
  - 支持响应式布局

### 5.4 通知提示组件

#### 5.4.1 消息提示

- **功能**：显示操作结果或系统通知
- **类型**：成功、错误、警告、信息
- **特性**：
  - 自动消失
  - 支持自定义持续时间
  - 支持手动关闭

#### 5.4.2 加载提示

- **功能**：显示加载状态
- **特性**：
  - 支持全屏加载
  - 支持局部加载
  - 支持自定义加载文案

### 5.5 电子签名组件

- **功能**：实现GMP要求的电子签名
- **特性**：
  - 支持用户名和密码验证
  - 支持操作目的选择
  - 支持签名记录保存和追溯
  - 符合GMP电子记录要求

## 6. 交互设计

### 6.1 导航与跳转

- **主菜单导航**：通过左侧菜单栏进行功能模块间的切换
- **面包屑导航**：显示当前页面的层级位置，支持快速返回上级页面
- **标签页导航**：在同一模块内的不同功能页面间切换
- **列表项点击**：点击列表项进入详情页
- **按钮跳转**：通过操作按钮跳转到相关页面或执行相应操作

### 6.2 表单交互

- **实时验证**：输入数据时实时进行验证并显示提示信息
- **输入提示**：提供输入建议或自动完成功能
- **表单提交**：点击提交按钮后进行验证，验证通过后提交数据
- **重置功能**：支持重置表单到初始状态
- **分步表单**：对于复杂表单，采用分步填写的方式

### 6.3 数据操作

- **批量操作**：支持选择多项数据进行批量处理
- **拖拽排序**：支持通过拖拽调整数据顺序
- **复制粘贴**：支持从Excel等外部来源复制数据到系统中
- **数据导出**：支持导出为Excel、PDF等格式

### 6.4 状态反馈

- **加载状态**：显示数据加载或操作执行中的状态
- **成功反馈**：操作成功后显示成功提示信息
- **错误反馈**：操作失败后显示错误提示信息和原因
- **确认提示**：执行重要或不可逆操作前显示确认提示

## 7. 移动适配设计

### 7.1 移动端布局

- **顶部导航栏**：简化显示，保留关键信息和功能入口
- **左侧菜单**：转为抽屉式导航，可通过按钮打开
- **主内容区**：采用单列布局，优化触摸操作体验
- **表格适配**：在移动端采用卡片式展示或可横向滚动的表格

### 7.2 移动端交互优化

- **触摸友好**：增大按钮和可点击区域，优化触摸体验
- **手势支持**：支持常见手势操作，如滑动、下拉刷新等
- **离线操作**：支持部分功能的离线操作，提高移动场景下的可用性
- **减少输入**：优化表单设计，减少输入量，提供更多选择项

## 8. 辅助功能设计

### 8.1 可访问性

- **键盘导航**：支持通过键盘进行所有操作
- **屏幕阅读器支持**：优化元素结构和属性，支持屏幕阅读器
- **高对比度模式**：支持高对比度显示模式
- **文字大小调整**：支持文字大小调整

### 8.2 用户辅助

- **帮助提示**：提供操作指引和帮助信息
- **常见问题解答**：提供FAQ和使用指南
- **操作日志**：记录用户操作历史，支持问题追溯
- **错误诊断**：提供详细的错误信息和解决建议

## 9. 界面原型

### 9.1 主要页面原型

- **登录页**：系统登录界面
- **首页**：系统主界面，显示统计信息和快速入口
- **样品列表页**：样品管理的主界面
- **检验任务详情页**：执行检验任务和录入结果的界面
- **检验报告详情页**：查看检验报告和执行审核的界面

### 9.2 交互流程原型

- **样品登记流程**：从样品信息录入到提交的完整流程
- **检验执行流程**：从接收任务到提交检验结果的流程
- **报告审核流程**：从报告生成到最终批准的流程
- **不合格品处理流程**：从发现不合格到处理验证的流程

## 10. 设计规范与资源

### 10.1 设计规范

- **组件库**：使用统一的UI组件库，确保界面一致性
- **图标规范**：使用统一的图标集，保持风格一致
- **命名规范**：遵循统一的文件和组件命名规范
- **代码规范**：遵循前端开发代码规范

### 10.2 资源文件

- **图标资源**：提供统一的图标文件
- **图片资源**：提供所需的图片资源
- **样式文件**：提供CSS样式文件和主题配置
- **组件文档**：提供UI组件的使用文档

## 11. 界面设计评审与测试

### 11.1 设计评审

- **用户体验评审**：评估界面的可用性和易用性
- **功能完整性评审**：确保界面包含所有必要的功能元素
- **一致性评审**：检查界面元素和交互的一致性
- **合规性评审**：验证界面设计是否符合GMP规范要求

### 11.2 界面测试

- **功能测试**：测试界面的各项功能是否正常工作
- **兼容性测试**：测试在不同浏览器和设备上的表现
- **性能测试**：测试界面加载和操作的性能
- **可访问性测试**：测试界面的可访问性

## 12. 文档维护

### 12.1 文档更新流程

1. 界面设计变更时，应及时更新本界面设计文档
2. 界面实现完成后，应进行界面测试并验证文档的准确性
3. 系统升级时，应确保文档已更新至最新版本
4. 定期审查界面设计文档，确保其与实际实现一致

### 12.2 文档版本控制

| 版本 | 日期 | 修改人 | 修改内容 |
|-----|------|-------|--------|
| V1.0 | 2023-01-15 | 系统开发团队 | 初始版本 |
# 中药材检验子系统角色权限矩阵

## 文档信息
- **版本号**：v1.0.0-draft
- **创建日期**：2025年11月23日
- **审核状态**：待审核
- **保密级别**：内部使用

## 目录
- [文档信息](#文档信息)
- [概述](#概述)
  - [文档目的](#文档目的)
  - [矩阵说明](#矩阵说明)
- [用户角色定义](#用户角色定义)
- [权限矩阵表](#权限矩阵表)
  - [功能模块权限](#功能模块权限)
  - [数据操作权限](#数据操作权限)
  - [系统管理权限](#系统管理权限)
- [角色继承关系](#角色继承关系)
- [权限控制规则](#权限控制规则)
- [技术实现方式](#技术实现方式)
- [附录](#附录)
  - [术语定义](#术语定义)
  - [参考文档](#参考文档)
  - [联系方式](#联系方式)

## 概述

### 文档目的
本文档定义中药材检验子系统的用户角色和权限体系，通过详细的权限矩阵确保不同用户角色在系统中的合理访问控制，满足GMP合规要求的中药材质量检测业务需求。

### 矩阵说明
- **角色数量**：4个核心角色 + 1个系统管理员角色
- **权限维度**：功能权限、数据权限、操作权限三维权限控制
- **权限粒度**：模块级、功能级、数据级、操作级四级权限控制
- **合规要求**：满足GMP数据追溯要求的角色分离和权限限制

## 用户角色定义

| 角色ID | 角色名称 | 角色职责描述 | 典型用户 | 角色层级 |
|-------|---------|-------------|---------|----------|
| R001 | 中药材检验员 | 执行中药材质量检测任务，记录检测数据，维护检测仪器 | 实验室检验人员 | 操作层 |
| R002 | 中药质量审核员 | 审核检测结果，判定质量符合性，处理质量异议 | 资深检验人员 | 审核层 |
| R003 | 检验室主任 | 管理检验计划，审批检验方法，监督检测质量 | 实验室负责人 | 管理层 |
| R004 | 中药资源管理员 | 管理中药材标准，维护质量数据库，分析质量趋势 | 质量技术人员 | 技术层 |
| R005 | 系统管理员 | 系统配置维护，权限管理，数据安全管理 | IT管理人员 | 系统层 |

## 权限矩阵表

### 功能模块权限

| 模块名称 | 中药材检验员 | 中药质量审核员 | 检验室主任 | 中药资源管理员 | 系统管理员 |
|---------|-------------|---------------|-----------|---------------|-----------|
| **样品管理** | ✅ (只读+入库) | ✅ (完全控制) | ✅ (完全控制) | ✅ (只读) | ✅ (完全控制) |
| **检验任务管理** | ✅ (个人任务) | ✅ (分配+审核) | ✅ (分配+审核) | ⭕ (查询) | ✅ (完全控制) |
| **检测方法管理** | ⭕ (使用) | ⭕ (审核) | ✅ (编制+审核) | ⭕ (维护) | ✅ (完全控制) |
| **质量标准管理** | ⭕ (查询) | ⭕ (查询+应用) | ⭕ (审核) | ✅ (编制+审核) | ✅ (完全控制) |
| **数据分析管理** | ⭕ (个人统计) | ✅ (部门统计) | ✅ (全局统计) | ✅ (专业分析) | ✅ (完全控制) |
| **系统管理** | ❌ | ❌ | ⭕ (部门配置) | ❌ | ✅ (完全控制) |

### 数据操作权限

#### 数据查看权限
| 数据类型 | 中药材检验员 | 中药质量审核员 | 检验室主任 | 中药资源管理员 | 系统管理员 |
|---------|-------------|---------------|-----------|---------------|-----------|
| 个人检测数据 | ✅ (完全控制) | ✅ (查看+修改) | ✅ (查看) | ✅ (查看) | ✅ (完全控制) |
| 部门历史数据 | ⭕ (查看) | ✅ (查看+统计) | ✅ (查看+统计) | ✅ (查看+分析) | ✅ (完全控制) |
| 企业质量标准 | ✅ (查看) | ✅ (应用) | ✅ (审核) | ✅ (编制+审核) | ✅ (完全控制) |
| 供应商评估数据 | ⭕ (查看) | ✅ (评估+查看) | ✅ (审核+查看) | ✅ (分析) | ✅ (完全控制) |
| 系统审计日志 | ❌ | ⭕ (部门日志) | ⭕ (全部日志) | ❌ | ✅ (完全控制) |

#### 数据操作权限
| 操作类型 | 中药材检验员 | 中药质量审核员 | 检验室主任 | 中药资源管理员 | 系统管理员 |
|---------|-------------|---------------|-----------|---------------|-----------|
| 数据录入 | ✅ (检测数据) | ⭕ (审核数据) | ❌ | ❌ | ⭕ (系统数据) |
| 数据修改 | ⭕ (本人在30分钟内) | ✅ (审核通过后) | ⭕ (审核中数据) | ✅ (标准数据) | ✅ (所有数据) |
| 数据删除 | ❌ | ❌ | ❌ | ⭕ (过期标准) | ⭕ (按政策删除) |
| 数据导出 | ⭕ (个人报告) | ✅ (部门报告) | ✅ (所有报告) | ✅ (分析报告) | ✅ (所有数据) |

### 系统管理权限

| 管理功能 | 中药材检验员 | 中药质量审核员 | 检验室主任 | 中药资源管理员 | 系统管理员 |
|---------|-------------|---------------|-----------|---------------|-----------|
| **用户管理** | ❌ | ❌ | ⭕ (添加检验员) | ❌ | ✅ (完整管理) |
| **权限管理** | ❌ | ❌ | ❌ | ❌ | ✅ (权限配置) |
| **参数配置** | ❌ | ❌ | ⭕ (实验室参数) | ⭕ (质量参数) | ✅ (系统参数) |
| **审计追踪** | ⭕ (个人操作) | ⭕ (审核操作) | ⭕ (部门操作) | ⭕ (标准操作) |

# MES子系统角色权限矩阵

## 1. 文档信息

- **文档名称**：MES子系统角色权限矩阵
- **版本**：v1.0.0
- **创建日期**：2023-07-15
- **最后更新**：2023-07-20
- **状态**：审核中
- **作者**：MES开发团队

## 2. 概述

本文档定义了生产执行系统（MES）中不同用户角色的权限矩阵，明确各角色在系统中的可执行操作和数据访问权限。该权限矩阵遵循最小权限原则，确保用户只能访问执行其工作所需的功能和数据，同时满足GMP合规性要求。

## 3. 角色定义

### 3.1 系统管理员 (SYSTEM_ADMIN)
- **描述**：系统最高权限角色，负责系统配置、用户管理和权限分配
- **所属部门**：IT部门
- **职责**：系统维护、用户账户管理、权限配置、系统参数设置

### 3.2 生产主管 (PRODUCTION_SUPERVISOR)
- **描述**：负责生产计划审批、生产执行监控和生产数据查看
- **所属部门**：生产部门
- **职责**：审批生产订单、监控生产进度、处理生产异常、查看生产报表

### 3.3 生产操作员 (PRODUCTION_OPERATOR)
- **描述**：执行具体生产任务，记录生产数据
- **所属部门**：生产部门
- **职责**：执行生产工序、记录生产参数、物料消耗记录、设备操作记录

### 3.4 质量管理员 (QUALITY_MANAGER)
- **描述**：负责质量管理相关功能操作和质量数据审核
- **所属部门**：质量部
- **职责**：审核质量检验数据、处理质量偏差、批准质量放行、质量报表查看

### 3.5 质量检验员 (QUALITY_INSPECTOR)
- **描述**：执行质量检验和记录质量数据
- **所属部门**：质量部
- **职责**：执行质量检验、记录检验数据、提交检验结果、偏差记录

### 3.6 物料管理员 (MATERIAL_MANAGER)
- **描述**：负责物料管理相关操作
- **所属部门**：仓库/物料部
- **职责**：物料接收、物料发放、库存盘点、物料报表查看

### 3.7 设备管理员 (EQUIPMENT_MANAGER)
- **描述**：负责设备管理相关操作
- **所属部门**：设备部
- **职责**：设备信息维护、维护计划制定、设备维修记录、设备报表查看

### 3.8 工艺工程师 (PROCESS_ENGINEER)
- **描述**：负责工艺参数设置和工艺管理
- **所属部门**：工艺部
- **职责**：工艺路线定义、工艺参数维护、BOM管理、工艺变更记录

### 3.9 数据分析师 (DATA_ANALYST)
- **描述**：负责数据分析和报表生成
- **所属部门**：质量管理部/生产技术部
- **职责**：报表生成、数据导出、趋势分析、KPI监控

### 3.10 仓库管理员 (WAREHOUSE_MANAGER)
- **描述**：负责仓库日常管理和物料出入库操作
- **所属部门**：仓库
- **职责**：物料入库、物料出库、库存查询、库位管理

### 3.11 系统审计员 (SYSTEM_AUDITOR)
- **描述**：负责系统审计和合规性检查
- **所属部门**：质量管理部/审计部
- **职责**：审计日志查看、操作记录追溯、合规性检查、审计报告生成

### 3.12 计划员 (PLANNER)
- **描述**：负责生产计划制定和管理
- **所属部门**：生产计划部
- **职责**：创建生产订单、制定生产计划、资源分配、计划调整

### 3.13 工单管理员 (WORK_ORDER_ADMIN)
- **描述**：负责工单的创建、管理和跟踪
- **所属部门**：生产部门
- **职责**：创建工单、分配工单、跟踪工单进度、关闭工单

### 3.14 偏差管理员 (DEVIATION_MANAGER)
- **描述**：负责偏差处理和管理
- **所属部门**：质量部
- **职责**：偏差记录、偏差调查、偏差处理、偏差报告生成

### 3.15 培训管理员 (TRAINING_ADMIN)
- **描述**：负责人员培训记录和资质管理
- **所属部门**：人力资源部/质量管理部
- **职责**：培训记录维护、资质管理、能力评估、培训报表生成

### 3.16 报表管理员 (REPORT_ADMIN)
- **描述**：负责系统报表的配置和管理
- **所属部门**：IT部门/业务部门
- **职责**：报表模板配置、报表权限管理、报表生成调度

## 4. 权限矩阵

| 功能模块 | 操作 | 系统管理员 | 生产主管 | 生产操作员 | 质量管理员 | 质量检验员 | 物料管理员 | 设备管理员 | 工艺工程师 | 数据分析师 | 仓库管理员 | 系统审计员 | 计划员 | 工单管理员 | 偏差管理员 | 培训管理员 | 报表管理员 |
|---------|------|-----------|---------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-------|-----------|-----------|-----------|-----------|
| **系统管理** | 查看系统配置 | ✔ | | | | | | | | | | | | | | | |
| | 修改系统配置 | ✔ | | | | | | | | | | | | | | | |
| | 用户管理 | ✔ | | | | | | | | | | | | | | | |
| | 角色管理 | ✔ | | | | | | | | | | | | | | | |
| | 权限管理 | ✔ | | | | | | | | | | | | | | | |
| | 系统日志查看 | ✔ | | | | | | | | | ✔ | ✔ | | | | | |
| **生产计划管理** | 创建生产订单 | | ✔ | | | | | | | | | | ✔ | ✔ | | | |
| | 编辑生产订单 | | ✔ | | | | | | | | | | ✔ | ✔ | | | |
| | 审批生产订单 | | ✔ | | | | | | | | | | | | | | |
| | 查看生产订单 | ✔ | ✔ | ✔ | ✔ | | | | | ✔ | | | ✔ | ✔ | | | ✔ |
| | 生产计划排程 | | ✔ | | | | | | | | | | ✔ | | | | |
| **物料管理** | 物料接收 | | | | | | ✔ | | | | ✔ | | | | | | |
| | 物料发放 | | | | | | ✔ | | | | ✔ | | | | | | |
| | 物料盘点 | | | | | | ✔ | | | | ✔ | | | | | | |
| | 库存查询 | ✔ | ✔ | ✔ | ✔ | | ✔ | | ✔ | ✔ | ✔ | | ✔ | ✔ | | | ✔ |
| | 物料消耗记录 | | | ✔ | | | | | | | | | | | | | | |
| **生产执行** | 工序开始 | | | ✔ | | | | | | | | | | ✔ | | | |
| | 工序完成 | | | ✔ | | | | | | | | | | ✔ | | | |
| | 记录生产参数 | | | ✔ | | | | | | | | | | | | | | |
| | 异常处理 | | ✔ | ✔ | ✔ | | | | | | | | | | ✔ | | |
| | 批次记录查看 | ✔ | ✔ | ✔ | ✔ | ✔ | | | ✔ | ✔ | | ✔ | | | | | ✔ |
| **质量管理** | 质量检验计划 | | | | ✔ | | | | | | | | | | | | | |
| | 执行质量检验 | | | | | ✔ | | | | | | | | | | | | |
| | 审核检验结果 | | | | ✔ | | | | | | | | | | | | | |
| | 质量偏差记录 | | | ✔ | ✔ | ✔ | | | | | | | | | ✔ | | | |
| | 偏差调查 | | | | ✔ | | | | | | | | | | ✔ | | | |
| | 偏差处理审批 | | | | ✔ | | | | | | | | | | ✔ | | | |
| | 质量放行 | | | | ✔ | | | | | | | | | | | | | |
| **设备管理** | 设备信息维护 | | | | | | | ✔ | | | | | | | | | |
| | 设备状态查看 | ✔ | ✔ | ✔ | | | | ✔ | | ✔ | | | | | | | ✔ |
| | 设备维护计划 | | | | | | | ✔ | | | | | | | | | |
| | 设备维修记录 | | | | | | | ✔ | | | | | | | | | |
| **工艺管理** | 工艺路线定义 | | | | | | | | ✔ | | | | | | | | | |
| | 工艺参数维护 | | | | | | | | ✔ | | | | | | | | | |
| | BOM管理 | | | | | | | | ✔ | | | | ✔ | | | | |
| | 工艺变更记录 | | | | ✔ | | | | ✔ | | | | | | | | | |
| **人员管理** | 人员信息维护 | ✔ | | | | | | | | | | | | | | ✔ | |
| | 培训记录管理 | | | | | | | | | | | | | | | ✔ | |
| | 资质管理 | | | | ✔ | | | | | | | | | | | ✔ | | |
| **数据分析** | 报表生成 | | | | | | | | | ✔ | | | | | | | ✔ |
| | 数据导出 | | | | | | | | | ✔ | | | | | | | ✔ |
| | 趋势分析 | | | | | | | | | ✔ | | | | | | | ✔ |
| | KPI监控 | ✔ | ✔ | | ✔ | | | | | ✔ | | | | | | | ✔ |

## 5. 权限管理原则

1. **最小权限原则**：用户角色仅拥有完成其工作所需的最小权限集
2. **职责分离原则**：关键操作需要不同角色的协作完成
3. **权限继承原则**：高权限角色自动继承低权限角色的所有权限
4. **审计追踪原则**：所有涉及权限变更的操作必须记录详细的审计日志
5. **动态授权原则**：可根据业务需求动态调整角色权限

## 6. 权限变更管理

系统中的权限变更必须遵循以下流程：

1. 权限变更申请：由部门主管提出权限变更申请
2. 审批：由系统管理员和相关职能部门负责人审批
3. 实施：系统管理员根据审批结果进行权限调整
4. 记录：所有权限变更必须记录在系统日志中
5. 验证：权限变更后需要验证其正确性和有效性

## 7. 安全注意事项

1. 角色分配应基于实际工作职责，避免权限过度分配
2. 定期审查用户权限，确保权限与当前工作相符
3. 严格控制系统管理员和审计员角色的分配
4. 敏感操作必须有详细的操作日志和审批记录
5. 权限变更必须经过正式的审批流程

## 8. 版本历史

| 版本 | 修改日期 | 修改内容 | 修改人 |
|------|---------|---------|--------|
| v1.0.0 | 2023-07-15 | 初始版本 | MES开发团队 |
| v1.0.0 | 2023-07-20 | 更新权限矩阵和角色描述 | MES开发团队 |
# MES子系统文档总览

## 1. 子系统概述
MES（Manufacturing Execution System）制造执行系统是GMP系统中的关键生产管理组件，负责监控、管理和控制生产过程，确保生产活动符合GMP规范、生产计划和质量标准，实现生产过程的可视化、数据化和可追溯性。

## 2. 文档结构

| 文档名称 | 描述 | 路径 |
|---------|------|------|
| 00_文档总览.md | 子系统文档总览索引 | [00_文档总览.md](00_文档总览.md) |
| 01_总体需求.md | 子系统总体需求说明 | [01_总体需求.md](01_总体需求.md) |
| 02_架构设计.md | 系统架构设计文档 | [02_架构设计.md](02_架构设计.md) |
| 03_业务流程描述.md | 业务流程描述 | [03_业务流程描述.md](03_业务流程描述.md) |
| TODO-list.md | 待完成任务清单 | [TODO-list.md](TODO-list.md) |
| 用户故事.md | 用户故事 | [用户故事.md](用户故事.md) |
| 角色权限矩阵.md | 角色权限矩阵 | [角色权限矩阵.md](角色权限矩阵.md) |
| 测试计划.md | 测试方案和计划 | [测试计划.md](测试计划.md) |
| 详细需求.md | 详细功能需求规格 | [详细需求.md](详细需求.md) |

## 3. 核心功能模块

- **生产计划管理**：生产订单创建、排程和资源分配
- **物料管理**：物料接收、仓储、配送和消耗追踪
- **生产执行**：工序执行、操作记录和生产数据采集
- **批次管理**：批次追踪、谱系记录和批次状态管理
- **设备管理**：设备监控、维护计划和设备效率分析
- **质量管理**：在线质量检测、偏差处理和质量指标监控
- **人员管理**：操作员资质、培训记录和工作分配
- **数据采集与分析**：实时数据采集、生产报表和数据分析

## 4. 技术架构

MES子系统采用微服务架构设计，主要技术栈包括：

- **后端技术**：Java、Spring Boot、Spring Cloud
- **数据库**：PostgreSQL（主数据库）、Redis（缓存）、时序数据库（生产数据）
- **前端技术**：Angular、PrimeNG
- **API设计**：RESTful API、WebSocket（实时数据）
- **认证授权**：集成AUTH-SYS子系统的JWT认证机制
- **数据采集**：OPC UA、MQTT协议支持设备数据采集
- **实时监控**：集成Grafana进行生产可视化监控

## 5. 关键业务流程

- **生产执行流程**：生产订单下达 → 物料准备 → 生产启动 → 工序执行 → 数据采集 → 质量检验 → 成品入库
- **批次追溯流程**：原料批次确定 → 生产过程记录 → 成品批次生成 → 质量数据关联 → 全链条追溯
- **设备维护流程**：维护计划制定 → 维护工单生成 → 维护执行 → 记录更新 → 设备状态管理

## 6. 系统接口

MES子系统与其他子系统的主要接口包括：

- **与AUTH-SYS集成**：用户认证、授权和角色管理
- **与LIMS集成**：原料和成品检测数据交换
- **与QMS集成**：质量偏差处理和变更控制执行
- **与WAREHOUSE-MANAGEMENT集成**：物料配送和库存管理
- **与EQUIPMENT-MANAGEMENT集成**：设备信息共享和维护计划协调
- **与CONFIG-SERVICE集成**：系统参数配置管理

## 7. 文档状态

- **版本**：v1.0
- **状态**：开发中
- **最后更新**：2025-11-26
- **文档维护人**：MES团队

## 8. 其他资源

- 系统部署指南
- 用户操作手册
- 数据字典
- API文档
- 设备集成指南

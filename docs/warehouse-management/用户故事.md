# 仓库管理系统（WMS）用户故事文档

## 文档信息
- **版本号**：v1.0.0-draft
- **创建日期**：2024年
- **审核状态**：待审核
- **保密级别**：内部使用

## 目录
- [文档信息](#文档信息)
- [概述](#概述)
  - [文档目的](#文档目的)
  - [术语定义](#术语定义)
- [用户角色定义](#用户角色定义)
- [用户故事](#用户故事)
- [验收标准汇总表](#验收标准汇总表)
- [附录](#附录)
  - [术语定义](#术语定义-1)
  - [参考文档](#参考文档)
  - [联系方式](#联系方式)

## 概述

### 文档目的
本文档基于用户故事方法描述WMS子系统的功能需求，从各角色用户的视角出发，详细阐述其在GMP物料仓储管理过程中的期望和需求。这些用户故事将作为系统设计、开发和测试的重要依据，确保系统能够满足实际业务需求并符合GMP合规要求。

### 术语定义
- **WMS**: 仓库管理系统(Warehouse Management System)，用于管理物料仓储和库存
- **用户故事**: 描述系统功能如何满足特定用户需求的简短叙述
- **验收标准**: 定义用户故事完成的评判标准和验证方法
- **GMP**: 药品生产质量管理规范(Good Manufacturing Practice)，确保物料仓储符合要求

## 用户角色定义

| 角色ID | 角色名称 | 角色描述 |
|-------|---------|----------|
| R001 | 仓库管理员 | 负责仓库日常管理和物料收发审批 |
| R002 | 仓储员 | 执行物料的日常收发和库存维护 |
| R003 | 质量主管 | 审核物料质量和仓储条件合规性 |
| R004 | 中药材管理员 | 负责中药材特殊存储条件管理和炮制前处理 |
| R005 | 中药炮制员 | 负责中药材炮制加工和炮制品入库 |
| R006 | 仓库主管 | 负责仓库整体运营管理和数据分析 |
| R007 | 库存分析师 | 负责库存数据分析和采购建议 |

## 用户故事

### 1. 物料基础管理

#### US-WMS-001: 物料信息录入
**ID**: US-WMS-001
**标题**: 作为仓库管理员，我希望能够录入完整物料信息，以便规范物料管理
**角色**: 仓库管理员
**优先级**: 高
**描述**: 系统应支持录入物料的基本信息、质量标准、存储条件等，支持物料分类和属性自定义
**验收标准**:
- 物料信息表单完整，包含必要字段
- 支持不同类型物料的个性化字段
- 物料信息可编辑和版本管理
- 支持物料导入导出功能

#### US-WMS-002: 仓库布局管理
**ID**: US-WMS-002
**标题**: 作为仓库管理员，我希望能够管理系统仓库布局，以便合理安排物料存储
**角色**: 仓库管理员
**优先级**: 高
**描述**: 系统应支持仓库分区管理、货架分配、位置编码，支持可视化仓库布局图
**验收标准**:
- 支持多级仓库分区管理
- 可视化仓库布局设计
- 支持货位自动分配和优化
- 布局变更历史记录

### 2. 物料收发管理

#### US-WMS-003: 物料入库管理
**ID**: US-WMS-003
**标题**: 作为仓储员，我希望能够高效处理物料入库，以便及时更新库存
**角色**: 仓储员
**优先级**: 高
**描述**: 系统应支持物料入库验收、位置分配、标签打印、全程电子记录
**验收标准**:
- 入库单自动生成和审批
- 支持批次信息录入
- 货位自动分配优化
- 入库确认电子签名

#### US-WMS-004: 物料出库管理
**ID**: US-WMS-004
**标题**: 作为仓储员，我希望能够准确处理物料出库，确保生产物料供应及时
**角色**: 仓储员
**优先级**: 高
**描述**: 系统应支持生产领料订单、出库审核、库存扣减、出库记录完整
**验收标准**:
- 基于生产订单自动生成出库单
- 支持先进先出(FIFO)策略
- 出库审核双人复核机制
- 出库实绩统计分析

### 3. 库存管理

#### US-WMS-005: 实时库存查询
**ID**: US-WMS-005
**标题**: 作为仓库管理员，我希望能够实时查询库存状态，以便掌握库存情况
**角色**: 仓库管理员、仓库主管
**优先级**: 高
**描述**: 系统应提供多维度的库存查询功能，支持按物料、批次、位置等条件实时查询库存
**验收标准**:
- 查询响应时间<2秒
- 支持复合条件筛选
- 实时库存数量准确
- 支持库存趋势分析

#### US-WMS-006: 库存预警管理
**ID**: US-WMS-006
**标题**: 作为仓库主管，我希望能够设置库存预警，以便及时处理库存异常
**角色**: 仓库主管、中药材管理员
**优先级**: 高
**描述**: 系统应支持库存上限、下限预警设置，支持短缺、过期、临近过期等预警规则
**验收标准**:
- 支持多级预警阈值设置
- 实时监控和自动报警
- 预警信息及时通知
- 预警处理跟踪记录

### 4. 中药材特殊管理

#### US-WMS-007: 中药材存储条件管理
**ID**: US-WMS-007
**标题**: 作为中药材管理员，我希望能够设置中药材专门的存储条件，以便确保质量稳定
**角色**: 中药材管理员、仓库管理员
**优先级**: 高
**描述**: 系统应支持中药材的特殊存储要求，包括温度、湿度、通风、防潮、防虫等条件管理，支持物联网传感器集成
**验收标准**:
- 支持中药材分类存储条件设置
- 物联网传感器数据自动采集
- 存储条件实时监控和报警
- 条件偏离自动记录和处理

#### US-WMS-008: 炮制物料状态管理
**ID**: US-WMS-008
**标题**: 作为中药炮制员，我希望能够记录中药材炮制前后的状态变化，以便物料质量跟踪
**角色**: 中药炮制员、中药材管理员
**优先级**: 高
**描述**: 系统应支持中药材炮制加工的管理，记录炮制方法、工艺参数、质量变化，支持炮制前物料和炮制品的分别管理
**验收标准**:
- 炮制计划关联入库原始批次
- 炮制过程参数详细记录
- 炮制品质量状态更新
- 炮制前后批次关联追溯

#### US-WMS-009: 中药材质量检测点管理
**ID**: US-WMS-009
**标题**: 作为质量主管，我希望能够在仓储过程中设置质量检测点，以便中药材质量监控
**角色**: 质量主管、中药材管理员
**优先级**: 中
**描述**: 系统应支持中药材仓储期间的质量检测计划，包括定期检查项目、检测周期、检测结果记录
**验收标准**:
- 质量检测计划自定义配置
- 按照计划自动生成检测任务
- 检测结果与库存状态关联
- 质量不合格自动锁定库存

#### US-WMS-010: 中药材批次追溯管理
**ID**: US-WMS-010
**标题**: 作为质量主管，我希望能够追踪中药材的完整仓储历史，以便质量调查和召回
**角色**: 质量主管、仓库管理员
**优先级**: 高
**描述**: 系统应记录中药材从入库到出库的完整移动轨迹，包括位置变化、状态变化、操作人员等信息
**验收标准**:
- 批次仓储履历完整记录
- 从入库到出库的全流程追溯
- 支持逆向追溯查询
- 追溯信息可视化展示

### 5. 盘库管理

#### US-WMS-011: 盘库任务管理
**ID**: US-WMS-011
**标题**: 作为仓库管理员，我希望能够组织定期盘库任务，以确保库存准确性
**角色**: 仓库管理员、仓储员
**优先级**: 中
**描述**: 系统应支持盘库计划制定、盘库任务分配、盘点数据录入、差异分析和调整
**验收标准**:
- 支持定期和临时盘库计划
- 盘库任务自动分解分配
- 支持条码扫描盘点
- 盘点差异自动计算和分析

#### US-WMS-012: 盘库差异处理
**ID**: US-WMS-012
**标题**: 作为仓库主管，我希望能够处理盘库差异，确保库存数据准确
**角色**: 仓库主管、质量主管
**优先级**: 中
**描述**: 系统应记录盘库差异、原因分析、调整方案和审批流程，支持质量问题的标识和处理
**验收标准**:
- 差异原因分类分析
- 调整方案审核审批
- 质量问题自动上报
- 差异统计报表生成

### 6. 数据分析与报告

#### US-WMS-013: 库存分析报告
**ID**: US-WMS-013
**标题**: 作为库存分析师，我希望能够生成库存分析报告，以便优化库存管理和采购决策
**角色**: 库存分析师、仓库主管
**优先级**: 中
**描述**: 系统应提供库存周转率、占用资金、过期风险等分析报告，支持可视化和预测分析
**验收标准**:
- 多维度库存分析指标
- 历史数据趋势分析
- 采购建议自动生成
- 报告定时自动分发

#### US-WMS-014: 仓库效率指标监控
**ID**: US-WMS-014
**标题**: 作为仓库主管，我希望能够监控仓库运营效率，以便持续改进
**角色**: 仓库主管、仓库管理员
**优先级**: 中
**描述**: 系统应监控入库效率、出库效率、盘库准确率等关键绩效指标，支持效率持续改进
**验收标准**:
- KPI指标实时计算
- 效率趋势图表展示
- 瓶颈问题自动识别
- 改进建议自动生成

### 7. 移动仓储管理

#### US-WMS-015: 移动终端领料
**ID**: US-WMS-015
**标题**: 作为仓储员，我希望能够使用移动终端进行领料操作，以提高工作效率
**角色**: 仓储员
**优先级**: 中
**描述**: 系统应支持仓储移动终端领料，支持条码扫描确认、电子签名、一键领料
**验收标准**:
- 移动端响应速度<1秒
- 支持离线操作和同步
- 领料操作日志完整
- 异常情况自动报警

#### US-WMS-016: 移动库存盘点
**ID**: US-WMS-016
**标题**: 作为仓储员，我希望能够在移动终端进行库存盘点，以提高盘点效率和准确性
**角色**: 仓储员
**优先级**: 中
**描述**: 移动终端支持库存盘点，支持智能盘点路线、条码扫描、实时同步
**验收标准**:
- 盘点进度实时同步
- 差异数据自动计算显示
- 支持照片和备注记录
- 盘点完成自动提醒

## 验收标准汇总表

| 用户故事ID | 功能模块 | 验收标准摘要 | 测试方法 |
|----------|---------|------------|--------|
| US-WMS-001 | 基础管理 | 物料信息录入完整，支持个性化字段 | 功能测试 |
| US-WMS-002 | 基础管理 | 仓库布局可视化管理，支持货位优化 | 功能测试 |
| US-WMS-003 | 收发管理 | 物料入库全流程电子化管理 | 功能测试、流程测试 |
| US-WMS-004 | 收发管理 | 物料出库流程完整，支持双人复核 | 功能测试、安全测试 |
| US-WMS-005 | 库存管理 | 实时库存查询响应<2秒 | 功能测试、性能测试 |
| US-WMS-006 | 库存管理 | 多级库存预警自动报警 | 功能测试、监控测试 |
| US-WMS-007 | 中药管理 | 中药材存储条件物联网监控 | 功能测试、集成测试 |
| US-WMS-008 | 中药管理 | 炮制前后物料状态关联追溯 | 功能测试、追溯测试 |
| US-WMS-009 | 中药管理 | 仓储质量检测点自动提醒 | 功能测试、流程测试 |
| US-WMS-010 | 中药管理 | 中药材仓储履历完整追溯 | 功能测试、追溯测试 |
| US-WMS-011 | 盘库管理 | 盘库任务自动分配和执行 | 功能测试、流程测试 |
| US-WMS-012 | 盘库管理 | 盘库差异分析和处理审批 | 功能测试、安全测试 |
| US-WMS-013 | 数据分析 | 库存分析报告自动生成 | 功能测试、数据分析测试 |
| US-WMS-014 | 数据分析 | 仓库效率KPI实时监控 | 功能测试、监控测试 |
| US-WMS-015 | 移动管理 | 移动终端领料操作响应<1秒 | 功能测试、移动测试 |
| US-WMS-016 | 移动管理 | 移动盘点实时同步和差异计算 | 功能测试、移动测试 |

## 附录

### 术语定义
- **WMS**: 仓库管理系统(Warehouse Management System)，用于管理药品物料仓储
- **FIFO**: 先进先出(First In First Out)，物料出库策略
- **炮制**: 中药材特殊的加工处理方法，用于提高疗效或改变药性
- **仓单**: 仓库内的库存凭证和记录
- **追溯性**: 能够追踪物料历史位置、状态和使用情况的能力

### 参考文档
- 《药品生产质量管理规范》(GMP)
- 《仓库管理规范》
- 《中药材炮制规范》
- [WMS总体需求文档](总体需求.md)
- [WMS详细需求文档](详细需求.md)

### 联系方式
- **仓库管理部门**: 负责物料仓储业务需求确认
- **质量保证部门**: 负责存储质量标准验证
- **中药事业部**: 负责中药材特色需求验证
- **IT开发部门**: 负责技术实现和接口设计
